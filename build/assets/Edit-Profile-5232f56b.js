import{j as e}from"./app-b1a96c56.js";import{r as u,G as P,S as _,x as f}from"./vendor-a2d89f66.js";import{D as F}from"./DashboardLayout-b7552d6d.js";import{c as h,m as t}from"./createLucideIcon-780a343d.js";import{U as d}from"./user-26e4e7a8.js";import{A as S}from"./arrow-left-445ee3aa.js";import"./index-61fa2664.js";import"./button-f313ffdf.js";import"./chevron-right-a2e96ce5.js";import"./check-9c293aa9.js";import"./triangle-alert-4d1d5a73.js";import"./chevron-down-3afa8b9e.js";import"./sun-d97d534a.js";import"./book-open-text-6fa8f7b0.js";import"./trophy-3691dc2c.js";import"./sparkles-30d9b8df.js";import"./x-35b410b7.js";/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],M=h("save",C);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],I=h("upload",E);function W({user:a}){const[c,v]=u.useState(a!=null&&a.foto?a.foto:null),[m,D]=u.useState(a!=null&&a.foto?a.foto:null),{data:s,setData:n,post:g,processing:p,errors:l}=P({name:(a==null?void 0:a.nama_pengguna)||"",full_name:(a==null?void 0:a.nama_lengkap)||"",avatar:null}),b=o=>{const r=o.target.files[0];if(r){console.log("File selected:",{name:r.name,size:r.size,type:r.type}),n("avatar",r);const x=new FileReader;x.onload=w=>{v(w.target.result)},x.readAsDataURL(r)}},y=o=>{o.preventDefault(),console.log("Form data:",s),console.log("Avatar file:",s.avatar),g("/dashboard/profile/update",{forceFormData:!0,onSuccess:r=>{console.log("Profile update successful")},onError:r=>{console.log("Profile update failed:",r)},onFinish:()=>{console.log("Profile update finished")}})},j=()=>{window.history.back()},N=o=>o?o.split(" ").map(r=>r[0]).join("").toUpperCase().slice(0,2):"U",k={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,staggerChildren:.1}}},i={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return e.jsxs(F,{children:[e.jsx(_,{title:"Edit Profile"}),e.jsx(t.div,{initial:"hidden",animate:"visible",variants:k,className:"min-h-screen bg-background py-10 px-4 font-sans",children:e.jsxs("div",{className:"max-w-xl mx-auto",children:[e.jsxs(t.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex items-center space-x-2 text-sm bg-gradient-to-r from-background to-muted/50 dark:from-slate-950 dark:to-slate-900/50 p-3 rounded-lg shadow-sm border border-border/50 dark:border-slate-800/50 mb-8 w-fit",children:[e.jsxs("div",{className:"flex flex-wrap items-center space-x-2",children:[e.jsx(f,{href:route("dashboard"),children:e.jsx("span",{className:"text-muted-foreground dark:text-slate-400 hover:text-violet-800 dark:hover:text-violet-300 transition-all duration-300",children:"Dashboard"})}),e.jsx("span",{className:"text-primary dark:text-violet-400",children:"/"}),e.jsx(f,{href:route("profile"),children:e.jsx("span",{className:"text-muted-foreground dark:text-slate-400 hover:text-violet-800 dark:hover:text-violet-300 transition-all duration-300",children:"Profile"})}),e.jsx("span",{className:"text-primary dark:text-violet-400",children:"/"}),e.jsx("span",{className:"text-violet-400 dark:text-violet-600",children:"Edit Profile"})]}),e.jsx(t.div,{className:"h-1 w-1 rounded-full bg-primary/50 dark:bg-violet-500/50",animate:{scale:[1,1.5,1]},transition:{duration:2,repeat:Number.POSITIVE_INFINITY}})]}),e.jsx(t.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},className:"mb-8 text-center",children:e.jsxs("div",{className:"py-6 px-4 relative z-0 bg-gradient-to-r from-violet-500/20 via-purple-500/10 to-pink-500/10 dark:from-violet-800/30 dark:via-purple-800/20 dark:to-pink-800/20 rounded-lg",children:[e.jsx("div",{className:"inline-block mb-4 bg-violet-500/20 p-2 rounded-full",children:e.jsx(d,{className:"h-8 w-8 text-slate-900 dark:text-slate-200"})}),e.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-200 mb-2",children:"Edit Profile"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Perbarui informasi profil Anda"})]})}),e.jsx(t.div,{variants:i,className:"bg-card border border-border rounded-2xl shadow-lg p-8",children:e.jsxs("form",{onSubmit:y,className:"space-y-6",encType:"multipart/form-data",children:[e.jsxs(t.div,{variants:i,className:"text-center",children:[e.jsx("div",{className:"relative inline-block mb-4",children:e.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-primary/20 shadow-lg mx-auto",children:c?e.jsx(t.img,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},src:c,alt:"Preview",className:"w-full h-full object-cover"}):m?e.jsx(t.img,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},src:m,alt:"Current Profile",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center text-2xl font-bold text-muted-foreground",children:N(s.name)})})}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",id:"avatar",accept:"image/*",onChange:b,className:"hidden"}),e.jsxs("label",{htmlFor:"avatar",className:"inline-flex items-center gap-2 px-4 py-2 bg-muted hover:bg-muted/80 text-muted-foreground rounded-lg cursor-pointer transition-colors",children:[e.jsx(I,{className:"w-4 h-4"}),"Pilih Foto"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Format: JPG, PNG, GIF (Max 2MB)"})]}),l.avatar&&e.jsx("p",{className:"text-destructive text-sm mt-2",children:l.avatar})]}),e.jsxs(t.div,{variants:i,children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-foreground mb-2",children:"Nama Pengguna"}),e.jsxs("div",{className:"relative",children:[e.jsx(d,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-5 h-5"}),e.jsx("input",{type:"text",id:"name",value:s.name,onChange:o=>n("name",o.target.value),className:"w-full pl-10 pr-4 py-3 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-colors",placeholder:"Masukkan nama pengguna"})]}),l.name&&e.jsx("p",{className:"text-destructive text-sm mt-1",children:l.name})]}),e.jsxs(t.div,{variants:i,children:[e.jsx("label",{htmlFor:"full_name",className:"block text-sm font-medium text-foreground mb-2",children:"Nama Lengkap"}),e.jsxs("div",{className:"relative",children:[e.jsx(d,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-5 h-5"}),e.jsx("input",{type:"text",id:"full_name",value:s.full_name,onChange:o=>n("full_name",o.target.value),className:"w-full pl-10 pr-4 py-3 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-colors",placeholder:"Masukkan nama lengkap"})]}),l.full_name&&e.jsx("p",{className:"text-destructive text-sm mt-1",children:l.full_name})]}),e.jsxs(t.div,{variants:i,className:"flex flex-col sm:flex-row gap-4 pt-6",children:[e.jsxs(t.button,{whileHover:{scale:1.02,boxShadow:"0 10px 25px rgba(0,0,0,0.1)"},whileTap:{scale:.98},type:"submit",disabled:p,className:"flex-1 inline-flex items-center justify-center gap-2 px-6 py-3 bg-primary hover:bg-primary/90 text-primary-foreground font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(M,{className:"w-5 h-5"}),p?"Menyimpan...":"Simpan Perubahan"]}),e.jsxs(t.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",onClick:j,className:"flex-1 inline-flex items-center justify-center gap-2 px-6 py-3 bg-muted hover:bg-muted/80 text-muted-foreground font-medium rounded-lg transition-colors",children:[e.jsx(S,{className:"w-5 h-5"}),"Kembali"]})]})]})})]})})]})}export{W as default};
