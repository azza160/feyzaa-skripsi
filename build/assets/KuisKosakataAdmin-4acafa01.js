import{j as a}from"./app-57e7bed0.js";import{r as t,S as na,A as h}from"./vendor-a2d89f66.js";import{C as oa,a as ta,b as ca,c as da}from"./card-94e97b23.js";import{B as o}from"./button-b255e397.js";import{I as c}from"./input-77681c11.js";import{L as i}from"./label-acbb46eb.js";import{S as u,a as g,b as k,c as v,d}from"./select-084f9a0f.js";import{T as ja,a as ma,b as V,c as f,d as _a,e as x}from"./table-f62baeff.js";import{D as B,a as E,b as H,c as O,d as G,e as ha}from"./dialog-08090aed.js";import{A as xa}from"./AdminDashboardLayout-1ace00be.js";import{P as pa}from"./plus-424d13ac.js";import{S as ua}from"./search-d440357c.js";import{E as ga}from"./eye-8269d095.js";import{S as ka}from"./square-pen-be699300.js";import{T as va}from"./trash-2-ee5a2ec2.js";import{C as fa}from"./chevron-left-26830aa1.js";import{C as ba}from"./chevron-right-d74b2ff6.js";import"./dropdown-menu-d0862b52.js";import"./avatar-7ff8c940.js";import"./check-95999c31.js";import"./createLucideIcon-256efdfd.js";import"./chevron-down-a36c0fa8.js";import"./index-007e7e0b.js";import"./x-49dde499.js";import"./house-ebc95582.js";import"./users-1490e3f6.js";import"./book-open-5cdb0389.js";import"./circle-help-c62c54b0.js";const Za=W=>{var Y;const{vocabularyQuizzes:Q=[],availableVocabularies:A=[]}=W,[j,X]=t.useState(""),[b,Z]=t.useState(""),[N,z]=t.useState(""),[m,_]=t.useState(1),[y,C]=t.useState({open:!1,quiz:null}),[w,S]=t.useState({open:!1,quiz:null}),[l,I]=t.useState({open:!1,quiz:null}),[$,K]=t.useState({open:!1}),[r,P]=t.useState({kosakata_id:"",level:"",soal_kanji:"",soal_furigana:"",soal_romaji:"",soal_arti:"",opsi_a_kanji:"",opsi_a_furigana:"",opsi_a_romaji:"",opsi_a_arti:"",opsi_b_kanji:"",opsi_b_furigana:"",opsi_b_romaji:"",opsi_b_arti:"",opsi_c_kanji:"",opsi_c_furigana:"",opsi_c_romaji:"",opsi_c_arti:"",opsi_d_kanji:"",opsi_d_furigana:"",opsi_d_romaji:"",opsi_d_arti:"",jawaban_benar:""}),F=5,R=["intermediate","advanced"],q=[{value:"a",label:"A"},{value:"b",label:"B"},{value:"c",label:"C"},{value:"d",label:"D"}],T=t.useMemo(()=>Q.filter(s=>{const e=s.soal_kanji.toLowerCase().includes(j.toLowerCase())||s.soal_furigana.toLowerCase().includes(j.toLowerCase())||s.soal_romaji.toLowerCase().includes(j.toLowerCase())||s.soal_arti.toLowerCase().includes(j.toLowerCase()),p=!b||s.kosakata_id.toString()===b,ra=!N||s.level===N;return e&&p&&ra}),[Q,j,b,N]),M=Math.ceil(T.length/F),L=(m-1)*F,J=T.slice(L,L+F),n=(s,e)=>{P(p=>({...p,[s]:e}))},D=()=>{P({kosakata_id:"",level:"",soal_kanji:"",soal_furigana:"",soal_romaji:"",soal_arti:"",opsi_a_kanji:"",opsi_a_furigana:"",opsi_a_romaji:"",opsi_a_arti:"",opsi_b_kanji:"",opsi_b_furigana:"",opsi_b_romaji:"",opsi_b_arti:"",opsi_c_kanji:"",opsi_c_furigana:"",opsi_c_romaji:"",opsi_c_arti:"",opsi_d_kanji:"",opsi_d_furigana:"",opsi_d_romaji:"",opsi_d_arti:"",jawaban_benar:""})},aa=()=>{h.post(route("admin.kuis-kosakata.store"),r,{onSuccess:()=>{K({open:!1}),D(),h.reload({only:["vocabularyQuizzes"]})}})},sa=()=>{w.quiz&&h.put(route("admin.kuis-kosakata.update",{id:w.quiz.id}),r,{onSuccess:()=>{S({open:!1,quiz:null}),D(),h.reload({only:["vocabularyQuizzes"]})}})},ea=()=>{y.quiz&&h.delete(route("admin.kuis-kosakata.destroy",{id:y.quiz.id}),{onSuccess:()=>{C({open:!1,quiz:null}),h.reload({only:["vocabularyQuizzes"]})}})},ia=s=>{P({kosakata_id:s.kosakata_id.toString(),level:s.level,soal_kanji:s.soal_kanji,soal_furigana:s.soal_furigana,soal_romaji:s.soal_romaji,soal_arti:s.soal_arti,opsi_a_kanji:s.opsi_a_kanji,opsi_a_furigana:s.opsi_a_furigana,opsi_a_romaji:s.opsi_a_romaji,opsi_a_arti:s.opsi_a_arti,opsi_b_kanji:s.opsi_b_kanji,opsi_b_furigana:s.opsi_b_furigana,opsi_b_romaji:s.opsi_b_romaji,opsi_b_arti:s.opsi_b_arti,opsi_c_kanji:s.opsi_c_kanji,opsi_c_furigana:s.opsi_c_furigana,opsi_c_romaji:s.opsi_c_romaji,opsi_c_arti:s.opsi_c_arti,opsi_d_kanji:s.opsi_d_kanji,opsi_d_furigana:s.opsi_d_furigana,opsi_d_romaji:s.opsi_d_romaji,opsi_d_arti:s.opsi_d_arti,jawaban_benar:s.jawaban_benar}),S({open:!0,quiz:s})},U=s=>{const e=A.find(p=>p.id===s);return e?`${e.kanji} (${e.arti})`:`ID: ${s}`},la=s=>{switch(s.jawaban_benar){case"a":return`${s.opsi_a_kanji} (${s.opsi_a_arti})`;case"b":return`${s.opsi_b_kanji} (${s.opsi_b_arti})`;case"c":return`${s.opsi_c_kanji} (${s.opsi_c_arti})`;case"d":return`${s.opsi_d_kanji} (${s.opsi_d_arti})`;default:return"-"}};return a.jsxs(xa,{currentPage:"vocabulary-quiz",children:[a.jsx(na,{title:"Soal Kuis Kosakata"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Kuis Kosakata"}),a.jsxs(o,{onClick:()=>K({open:!0}),className:"flex items-center gap-2",children:[a.jsx(pa,{className:"h-4 w-4"}),"Tambah Kuis"]})]}),a.jsxs(oa,{children:[a.jsx(ta,{children:a.jsx(ca,{children:"Data Kuis Kosakata"})}),a.jsxs(da,{children:[a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(ua,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx(c,{placeholder:"Cari berdasarkan kanji, furigana, romaji, atau arti...",value:j,onChange:s=>{X(s.target.value),_(1)},className:"pl-10"})]}),a.jsxs(u,{value:b,onValueChange:s=>{Z(s),_(1)},children:[a.jsx(g,{className:"w-full lg:w-48",children:a.jsx(k,{placeholder:"Filter Kosakata"})}),a.jsxs(v,{children:[a.jsx(d,{value:null,children:"Semua Kosakata"}),A.map(s=>a.jsxs(d,{value:s.id.toString(),children:[s.kanji," (",s.arti,")"]},s.id))]})]}),a.jsxs(u,{value:N,onValueChange:s=>{z(s),_(1)},children:[a.jsx(g,{className:"w-full lg:w-48",children:a.jsx(k,{placeholder:"Filter Level"})}),a.jsxs(v,{children:[a.jsx(d,{value:null,children:"Semua Level"}),R.map(s=>a.jsx(d,{value:s,children:s},s))]})]})]}),a.jsx("div",{className:"rounded-md border",children:a.jsxs(ja,{children:[a.jsx(ma,{children:a.jsxs(V,{children:[a.jsx(f,{children:"Kosakata"}),a.jsx(f,{children:"Soal"}),a.jsx(f,{children:"Level"}),a.jsx(f,{children:"Jawaban Benar"}),a.jsx(f,{className:"text-center",children:"Action"})]})}),a.jsx(_a,{children:J.length>0?J.map(s=>a.jsxs(V,{children:[a.jsx(x,{children:U(s.kosakata_id)}),a.jsx(x,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"font-medium text-lg",children:s.soal_kanji}),a.jsx("p",{className:"text-sm text-gray-600",children:s.soal_furigana}),a.jsx("p",{className:"text-sm text-gray-500",children:s.soal_romaji}),a.jsx("p",{className:"text-sm",children:s.soal_arti})]})}),a.jsx(x,{children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.level==="intermediate"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:s.level})}),a.jsx(x,{children:a.jsxs("span",{className:"font-medium text-sm",children:[s.jawaban_benar.toUpperCase(),": ",la(s)]})}),a.jsx(x,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(o,{variant:"outline",size:"sm",onClick:()=>I({open:!0,quiz:s}),className:"h-8 w-8 p-0",children:a.jsx(ga,{className:"h-4 w-4"})}),a.jsx(o,{variant:"outline",size:"sm",onClick:()=>ia(s),className:"h-8 w-8 p-0",children:a.jsx(ka,{className:"h-4 w-4"})}),a.jsx(o,{variant:"destructive",size:"sm",onClick:()=>C({open:!0,quiz:s}),className:"h-8 w-8 p-0",children:a.jsx(va,{className:"h-4 w-4"})})]})})]},s.id)):a.jsx(V,{children:a.jsx(x,{colSpan:5,className:"text-center py-8 text-gray-500",children:"Tidak ada data kuis kosakata ditemukan"})})})]})}),M>1&&a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("p",{className:"text-sm text-gray-700",children:["Menampilkan ",L+1," - ",Math.min(L+F,T.length)," ","dari ",T.length," data"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(o,{variant:"outline",size:"sm",onClick:()=>_(m-1),disabled:m===1,children:[a.jsx(fa,{className:"h-4 w-4"}),"Previous"]}),Array.from({length:M},(s,e)=>e+1).map(s=>a.jsx(o,{variant:m===s?"default":"outline",size:"sm",onClick:()=>_(s),className:"w-8 h-8 p-0",children:s},s)),a.jsxs(o,{variant:"outline",size:"sm",onClick:()=>_(m+1),disabled:m===M,children:["Next",a.jsx(ba,{className:"h-4 w-4"})]})]})]})]})]}),a.jsx(B,{open:$.open||w.open,onOpenChange:s=>{s||(K({open:!1}),S({open:!1,quiz:null}),D())},children:a.jsxs(E,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[a.jsx(H,{children:a.jsx(O,{children:$.open?"Tambah Kuis Kosakata":"Edit Kuis Kosakata"})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(i,{htmlFor:"kosakata_id",children:"Kosakata"}),a.jsxs(u,{value:r.kosakata_id,onValueChange:s=>n("kosakata_id",s),disabled:w.open,children:[a.jsx(g,{children:a.jsx(k,{placeholder:"Pilih kosakata"})}),a.jsx(v,{style:{maxHeight:"200px",overflowY:"auto"},children:A.map(s=>a.jsxs(d,{value:s.id.toString(),children:[s.kanji," (",s.arti,")"]},s.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(i,{htmlFor:"level",children:"Level"}),a.jsxs(u,{value:r.level,onValueChange:s=>n("level",s),children:[a.jsx(g,{children:a.jsx(k,{placeholder:"Pilih level"})}),a.jsx(v,{children:R.map(s=>a.jsx(d,{value:s,children:s},s))})]})]})]}),a.jsxs("div",{children:[a.jsx(i,{className:"text-lg font-semibold",children:"Soal"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(i,{htmlFor:"soal_kanji",children:"Kanji"}),a.jsx(c,{id:"soal_kanji",value:r.soal_kanji,onChange:s=>n("soal_kanji",s.target.value),placeholder:"学校"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(i,{htmlFor:"soal_furigana",children:"Furigana"}),a.jsx(c,{id:"soal_furigana",value:r.soal_furigana,onChange:s=>n("soal_furigana",s.target.value),placeholder:"がっこう"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(i,{htmlFor:"soal_romaji",children:"Romaji"}),a.jsx(c,{id:"soal_romaji",value:r.soal_romaji,onChange:s=>n("soal_romaji",s.target.value),placeholder:"gakkou"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(i,{htmlFor:"soal_arti",children:"Arti"}),a.jsx(c,{id:"soal_arti",value:r.soal_arti,onChange:s=>n("soal_arti",s.target.value),placeholder:"sekolah"})]})]})]}),["a","b","c","d"].map(s=>a.jsxs("div",{children:[a.jsxs(i,{className:"text-lg font-semibold",children:["Opsi ",s.toUpperCase()]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(i,{htmlFor:`opsi_${s}_kanji`,children:"Kanji"}),a.jsx(c,{id:`opsi_${s}_kanji`,value:r[`opsi_${s}_kanji`],onChange:e=>n(`opsi_${s}_kanji`,e.target.value),placeholder:"学校"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(i,{htmlFor:`opsi_${s}_furigana`,children:"Furigana"}),a.jsx(c,{id:`opsi_${s}_furigana`,value:r[`opsi_${s}_furigana`],onChange:e=>n(`opsi_${s}_furigana`,e.target.value),placeholder:"がっこう"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(i,{htmlFor:`opsi_${s}_romaji`,children:"Romaji"}),a.jsx(c,{id:`opsi_${s}_romaji`,value:r[`opsi_${s}_romaji`],onChange:e=>n(`opsi_${s}_romaji`,e.target.value),placeholder:"gakkou"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(i,{htmlFor:`opsi_${s}_arti`,children:"Arti"}),a.jsx(c,{id:`opsi_${s}_arti`,value:r[`opsi_${s}_arti`],onChange:e=>n(`opsi_${s}_arti`,e.target.value),placeholder:"sekolah"})]})]})]},s)),a.jsxs("div",{className:"space-y-2",children:[a.jsx(i,{htmlFor:"jawaban_benar",children:"Jawaban Benar"}),a.jsxs(u,{value:r.jawaban_benar,onValueChange:s=>n("jawaban_benar",s),children:[a.jsx(g,{children:a.jsx(k,{placeholder:"Pilih jawaban benar"})}),a.jsx(v,{children:q.map(s=>a.jsx(d,{value:s.value,children:s.label},s.value))})]})]})]}),a.jsxs(G,{children:[a.jsx(o,{variant:"outline",onClick:()=>{K({open:!1}),S({open:!1,quiz:null}),D()},children:"Batal"}),a.jsx(o,{onClick:$.open?aa:sa,children:$.open?"Tambah":"Simpan"})]})]})}),a.jsx(B,{open:l.open,onOpenChange:s=>I({open:s,quiz:null}),children:a.jsxs(E,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[a.jsx(H,{children:a.jsx(O,{children:"Detail Kuis Kosakata"})}),l.quiz&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(i,{className:"font-semibold",children:"Kosakata:"}),a.jsx("p",{children:U(l.quiz.kosakata_id)})]}),a.jsxs("div",{children:[a.jsx(i,{className:"font-semibold",children:"Level:"}),a.jsx("p",{children:l.quiz.level})]})]}),a.jsxs("div",{children:[a.jsx(i,{className:"font-semibold text-lg",children:"Soal:"}),a.jsxs("div",{className:"mt-2 p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-medium",children:l.quiz.soal_kanji}),a.jsx("p",{className:"text-lg text-gray-600",children:l.quiz.soal_furigana}),a.jsx("p",{className:"text-gray-500",children:l.quiz.soal_romaji}),a.jsx("p",{className:"font-medium",children:l.quiz.soal_arti})]})]}),a.jsxs("div",{children:[a.jsx(i,{className:"font-semibold text-lg",children:"Pilihan Jawaban:"}),a.jsx("div",{className:"mt-2 space-y-3",children:["a","b","c","d"].map(s=>a.jsx("div",{className:`p-3 rounded-lg border ${l.quiz.jawaban_benar===s?"bg-green-50 border-green-200":"bg-gray-50"}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("span",{className:"font-bold text-lg",children:[s.toUpperCase(),":"]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-medium",children:l.quiz[`opsi_${s}_kanji`]}),a.jsx("p",{className:"text-gray-600",children:l.quiz[`opsi_${s}_furigana`]}),a.jsx("p",{className:"text-gray-500 text-sm",children:l.quiz[`opsi_${s}_romaji`]}),a.jsx("p",{children:l.quiz[`opsi_${s}_arti`]})]}),l.quiz.jawaban_benar===s&&a.jsx("span",{className:"text-green-600 font-medium text-sm",children:"✓ Benar"})]})},s))})]})]})]})}),a.jsx(B,{open:y.open,onOpenChange:s=>C({open:s,quiz:null}),children:a.jsxs(E,{children:[a.jsxs(H,{children:[a.jsx(O,{children:"Konfirmasi Hapus"}),a.jsxs(ha,{children:['Apakah Anda yakin ingin menghapus kuis kosakata "',(Y=y.quiz)==null?void 0:Y.soal_kanji,'"? Tindakan ini tidak dapat dibatalkan.']})]}),a.jsxs(G,{children:[a.jsx(o,{variant:"outline",onClick:()=>C({open:!1,quiz:null}),children:"Batal"}),a.jsx(o,{variant:"destructive",onClick:ea,children:"Hapus"})]})]})})]})]})};export{Za as default};
