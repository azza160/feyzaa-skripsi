import{j as a}from"./app-57e7bed0.js";import{X as ha,r as i,S as ua,A as B}from"./vendor-a2d89f66.js";import{C as xa,a as ja,b as ka,c as pa}from"./card-94e97b23.js";import{B as n}from"./button-b255e397.js";import{I as k}from"./input-77681c11.js";import{L as t}from"./label-acbb46eb.js";import{S as F,a as A,b as T,c as K,d as p}from"./select-084f9a0f.js";import{T as ga,a as fa,b as V,c,d as va,e as d}from"./table-f62baeff.js";import{D as E,a as H,b as R,c as z,d as ea,e as ba}from"./dialog-08090aed.js";import{A as Na}from"./AdminDashboardLayout-1ace00be.js";import{s as I}from"./index-1df17e58.js";import{P as Ca}from"./plus-424d13ac.js";import{S as Sa}from"./search-d440357c.js";import{P as sa}from"./play-f8de0b3d.js";import{E as _a}from"./eye-8269d095.js";import{S as wa}from"./square-pen-be699300.js";import{T as ya}from"./trash-2-ee5a2ec2.js";import{C as Fa}from"./chevron-left-26830aa1.js";import{C as Aa}from"./chevron-right-d74b2ff6.js";import"./dropdown-menu-d0862b52.js";import"./avatar-7ff8c940.js";import"./check-95999c31.js";import"./createLucideIcon-256efdfd.js";import"./chevron-down-a36c0fa8.js";import"./index-007e7e0b.js";import"./x-49dde499.js";import"./house-ebc95582.js";import"./users-1490e3f6.js";import"./book-open-5cdb0389.js";import"./circle-help-c62c54b0.js";const ne=()=>{var W;const{exampleSentences:Y=[],availableVocabularies:D=[],availableVocabularyForms:$=[]}=ha().props;i.useState([{id:1,kosakata_id:1,bentuk_kosakata_id:1,kanji:"私は学校に行きます。",furigana:"わたしはがっこうにいきます。",romaji:"watashi wa gakkou ni ikimasu.",arti:"Saya pergi ke sekolah.",audio:"https://example.com/audio/sentence1.mp3"},{id:2,kosakata_id:1,bentuk_kosakata_id:2,kanji:"学校に行って、友達に会いました。",furigana:"がっこうにいって、ともだちにあいました。",romaji:"gakkou ni itte, tomodachi ni aimashita.",arti:"Pergi ke sekolah dan bertemu teman.",audio:"https://example.com/audio/sentence2.mp3"},{id:3,kosakata_id:2,bentuk_kosakata_id:3,kanji:"田中さんは先生でした。",furigana:"たなかさんはせんせいでした。",romaji:"tanaka-san wa sensei deshita.",arti:"Tanaka-san adalah guru.",audio:"https://example.com/audio/sentence3.mp3"}]);const O=[{id:1,bentuk:"masu form",kosakata_id:1},{id:2,bentuk:"te form",kosakata_id:1},{id:3,bentuk:"past form",kosakata_id:2}],[u,ia]=i.useState(""),[m,ta]=i.useState("0"),[g,q]=i.useState("0"),[x,j]=i.useState(1);i.useState(null),i.useState(!1);const la=i.useRef(null),[P,f]=i.useState({open:!1,sentence:null}),[v,b]=i.useState({open:!1,sentence:null}),[o,G]=i.useState({open:!1,sentence:null}),[N,C]=i.useState({open:!1}),[s,L]=i.useState({kosakata_id:"",bentuk_kosakata_id:"",kanji:"",furigana:"",romaji:"",arti:"",audio:""}),S=5,na=()=>!m||m==="0"?O:O.filter(e=>e.kosakata_id.toString()===m),_=i.useMemo(()=>Y.filter(e=>{var Z,aa;const l=e.kanji.toLowerCase().includes(u.toLowerCase())||e.furigana.toLowerCase().includes(u.toLowerCase())||e.romaji.toLowerCase().includes(u.toLowerCase())||e.arti.toLowerCase().includes(u.toLowerCase()),r=m==="0"||((Z=e.kosakata_id)==null?void 0:Z.toString())===m,ma=g==="0"||((aa=e.bentuk_kosakata_id)==null?void 0:aa.toString())===g;return l&&r&&ma}),[Y,u,m,g]),M=Math.ceil(_.length/S),w=(x-1)*S,U=_.slice(w,w+S),X=e=>{if(!e)return;new Audio(e).play().catch(r=>console.error("Gagal memutar audio:",r))},h=(e,l)=>{L(r=>({...r,[e]:l}))},y=()=>{L({kosakata_id:"",bentuk_kosakata_id:"",kanji:"",furigana:"",romaji:"",arti:"",audio:""})},oa=()=>{if(!s.kosakata_id&&!s.bentuk_kosakata_id||!s.romaji||!s.arti){alert("Field wajib tidak boleh kosong! (Isi salah satu: Kosakata atau Bentuk Kosakata)");return}B.post(I("admin.contoh-kalimat.store"),s,{onSuccess:()=>{C({open:!1}),y()}})},ra=()=>{if(!s.romaji||!s.arti){alert("Field wajib tidak boleh kosong!");return}B.put(I("admin.contoh-kalimat.update",v.sentence.id),s,{onSuccess:()=>{b({open:!1,sentence:null}),y()}})},da=()=>{B.delete(I("admin.contoh-kalimat.destroy",P.sentence.id),{onSuccess:()=>{f({open:!1,sentence:null})}})},ca=e=>{L({kosakata_id:e.kosakata_id?e.kosakata_id.toString():"",bentuk_kosakata_id:e.bentuk_kosakata_id?e.bentuk_kosakata_id.toString():"",kanji:e.kanji,furigana:e.furigana,romaji:e.romaji,arti:e.arti,audio:e.audio}),b({open:!0,sentence:e})},J=e=>{const l=D.find(r=>r.id.toString()===e.toString());return l?`${l.kanji} (${l.arti})`:`ID: ${e}`},Q=e=>{if(!e)return"-";const l=$.find(r=>r.id.toString()===e.toString());return l?l.bentuk:`ID: ${e}`};return a.jsxs(Na,{currentPage:"example-sentences",children:[a.jsx(ua,{title:"contoh kalimat admin"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Contoh Kalimat"}),a.jsxs(n,{onClick:()=>C({open:!0}),className:"flex items-center gap-2",children:[a.jsx(Ca,{className:"h-4 w-4"}),"Tambah Contoh Kalimat"]})]}),a.jsxs(xa,{children:[a.jsx(ja,{children:a.jsx(ka,{children:"Data Contoh Kalimat"})}),a.jsxs(pa,{children:[a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx(k,{placeholder:"Cari berdasarkan kanji, furigana, romaji, atau arti...",value:u,onChange:e=>{ia(e.target.value),j(1)},className:"pl-10"})]}),a.jsxs(F,{value:m,onValueChange:e=>{ta(e),q("0"),j(1)},children:[a.jsx(A,{className:"w-full lg:w-48",children:a.jsx(T,{placeholder:"Filter Kosakata"})}),a.jsxs(K,{style:{maxHeight:300,overflowY:"auto"},children:[a.jsx(p,{value:"0",children:"Semua Kosakata"}),D.map(e=>a.jsxs(p,{value:e.id.toString(),children:[e.kanji," (",e.arti,")"]},e.id))]})]}),a.jsxs(F,{value:g,onValueChange:e=>{q(e),j(1)},children:[a.jsx(A,{className:"w-full lg:w-48",children:a.jsx(T,{placeholder:"Filter Bentuk"})}),a.jsxs(K,{style:{maxHeight:300,overflowY:"auto"},children:[a.jsx(p,{value:"0",children:"Semua Bentuk"}),na().map(e=>a.jsx(p,{value:e.id.toString(),children:e.bentuk},e.id))]})]})]}),a.jsx("div",{className:"rounded-md border",children:a.jsxs(ga,{children:[a.jsx(fa,{children:a.jsxs(V,{children:[a.jsx(c,{children:"Kanji"}),a.jsx(c,{children:"Furigana"}),a.jsx(c,{children:"Romaji"}),a.jsx(c,{children:"Arti"}),a.jsx(c,{children:"Kosakata"}),a.jsx(c,{children:"Bentuk"}),a.jsx(c,{children:"Audio"}),a.jsx(c,{className:"text-center",children:"Action"})]})}),a.jsx(va,{children:U.length>0?U.map(e=>a.jsxs(V,{children:[a.jsx(d,{className:"font-medium max-w-xs truncate",title:e.kanji,children:e.kanji}),a.jsx(d,{className:"max-w-xs truncate",title:e.furigana,children:e.furigana}),a.jsx(d,{className:"max-w-xs truncate",title:e.romaji,children:e.romaji}),a.jsx(d,{className:"max-w-xs truncate",title:e.arti,children:e.arti}),a.jsx(d,{children:J(e.kosakata_id)}),a.jsx(d,{children:a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:Q(e.bentuk_kosakata_id)})}),a.jsx(d,{children:a.jsx(n,{variant:"outline",size:"sm",onClick:()=>X(e.audio),className:"h-8 w-8 p-0",children:a.jsx(sa,{className:"h-4 w-4"})})}),a.jsx(d,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(n,{variant:"outline",size:"sm",onClick:()=>G({open:!0,sentence:e}),className:"h-8 w-8 p-0",children:a.jsx(_a,{className:"h-4 w-4"})}),a.jsx(n,{variant:"outline",size:"sm",onClick:()=>ca(e),className:"h-8 w-8 p-0",children:a.jsx(wa,{className:"h-4 w-4"})}),a.jsx(n,{variant:"destructive",size:"sm",onClick:()=>f({open:!0,sentence:e}),className:"h-8 w-8 p-0",children:a.jsx(ya,{className:"h-4 w-4"})})]})})]},e.id)):a.jsx(V,{children:a.jsx(d,{colSpan:8,className:"text-center py-8 text-gray-500",children:"Tidak ada data contoh kalimat ditemukan"})})})]})}),M>1&&a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("p",{className:"text-sm text-gray-700",children:["Menampilkan ",w+1," - ",Math.min(w+S,_.length)," ","dari ",_.length," data"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(n,{variant:"outline",size:"sm",onClick:()=>j(x-1),disabled:x===1,children:[a.jsx(Fa,{className:"h-4 w-4"}),"Previous"]}),Array.from({length:M},(e,l)=>l+1).map(e=>a.jsx(n,{variant:x===e?"default":"outline",size:"sm",onClick:()=>j(e),className:"w-8 h-8 p-0",children:e},e)),a.jsxs(n,{variant:"outline",size:"sm",onClick:()=>j(x+1),disabled:x===M,children:["Next",a.jsx(Aa,{className:"h-4 w-4"})]})]})]})]})]}),a.jsx(E,{open:N.open||v.open,onOpenChange:e=>{e||(C({open:!1}),b({open:!1,sentence:null}),y())},children:a.jsxs(H,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsx(R,{children:a.jsx(z,{children:N.open?"Tambah Contoh Kalimat":"Edit Contoh Kalimat"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(t,{htmlFor:"kosakata_id",children:"Kosakata"}),a.jsxs(F,{value:s.kosakata_id,onValueChange:e=>h("kosakata_id",e),disabled:v.open,children:[a.jsx(A,{children:a.jsx(T,{placeholder:"Pilih kosakata"})}),a.jsx(K,{style:{maxHeight:300,overflowY:"auto"},children:D.map(e=>a.jsxs(p,{value:e.id.toString(),children:[e.kanji," (",e.arti,")"]},e.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(t,{htmlFor:"bentuk_kosakata_id",children:"Bentuk Kosakata"}),a.jsxs(F,{value:s.bentuk_kosakata_id,onValueChange:e=>h("bentuk_kosakata_id",e),disabled:v.open,children:[a.jsx(A,{children:a.jsx(T,{placeholder:"Pilih bentuk"})}),a.jsx(K,{style:{maxHeight:300,overflowY:"auto"},children:$.filter(e=>!s.kosakata_id||e.kosakata_id.toString()===s.kosakata_id).map(e=>a.jsx(p,{value:e.id.toString(),children:e.bentuk},e.id))})]})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx(t,{htmlFor:"kanji",children:"Kanji"}),a.jsx(k,{id:"kanji",value:s.kanji,onChange:e=>h("kanji",e.target.value),placeholder:"私は学校に行きます。"})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx(t,{htmlFor:"furigana",children:"Furigana"}),a.jsx(k,{id:"furigana",value:s.furigana,onChange:e=>h("furigana",e.target.value),placeholder:"わたしはがっこうにいきます。"})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx(t,{htmlFor:"romaji",children:"Romaji"}),a.jsx(k,{id:"romaji",value:s.romaji,onChange:e=>h("romaji",e.target.value),placeholder:"watashi wa gakkou ni ikimasu."})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx(t,{htmlFor:"arti",children:"Arti"}),a.jsx(k,{id:"arti",value:s.arti,onChange:e=>h("arti",e.target.value),placeholder:"Saya pergi ke sekolah."})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx(t,{htmlFor:"audio",children:"Audio URL"}),a.jsx(k,{id:"audio",value:s.audio,onChange:e=>h("audio",e.target.value),placeholder:"https://example.com/audio.mp3"})]})]}),a.jsxs(ea,{children:[a.jsx(n,{variant:"outline",onClick:()=>{C({open:!1}),b({open:!1,sentence:null}),y()},children:"Batal"}),a.jsx(n,{onClick:N.open?oa:ra,children:N.open?"Tambah":"Simpan"})]})]})}),a.jsx(E,{open:o.open,onOpenChange:e=>G({open:e,sentence:null}),children:a.jsxs(H,{className:"max-w-2xl",children:[a.jsx(R,{children:a.jsx(z,{children:"Detail Contoh Kalimat"})}),o.sentence&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(t,{className:"font-semibold",children:"Kanji:"}),a.jsx("p",{className:"text-lg mt-1",children:o.sentence.kanji})]}),a.jsxs("div",{children:[a.jsx(t,{className:"font-semibold",children:"Furigana:"}),a.jsx("p",{className:"mt-1",children:o.sentence.furigana})]}),a.jsxs("div",{children:[a.jsx(t,{className:"font-semibold",children:"Romaji:"}),a.jsx("p",{className:"mt-1",children:o.sentence.romaji})]}),a.jsxs("div",{children:[a.jsx(t,{className:"font-semibold",children:"Arti:"}),a.jsx("p",{className:"mt-1",children:o.sentence.arti})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(t,{className:"font-semibold",children:"Kosakata:"}),a.jsx("p",{children:J(o.sentence.kosakata_id)})]}),a.jsxs("div",{children:[a.jsx(t,{className:"font-semibold",children:"Bentuk:"}),a.jsx("p",{children:Q(o.sentence.bentuk_kosakata_id)})]})]}),a.jsxs("div",{children:[a.jsx(t,{className:"font-semibold",children:"Audio:"}),a.jsx("div",{className:"flex items-center gap-2 mt-1",children:a.jsxs(n,{variant:"outline",size:"sm",onClick:()=>X(o.sentence.audio),children:[a.jsx(sa,{className:"h-4 w-4 mr-2"}),"Play Audio"]})})]})]})]})}),a.jsx(E,{open:P.open,onOpenChange:e=>f({open:e,sentence:null}),children:a.jsxs(H,{children:[a.jsxs(R,{children:[a.jsx(z,{children:"Konfirmasi Hapus"}),a.jsxs(ba,{children:['Apakah Anda yakin ingin menghapus contoh kalimat "',(W=P.sentence)==null?void 0:W.kanji,'"? Tindakan ini tidak dapat dibatalkan.']})]}),a.jsxs(ea,{children:[a.jsx(n,{variant:"outline",onClick:()=>f({open:!1,sentence:null}),children:"Batal"}),a.jsx(n,{variant:"destructive",onClick:da,children:"Hapus"})]})]})}),a.jsx("audio",{ref:la})]})]})};export{ne as default};
