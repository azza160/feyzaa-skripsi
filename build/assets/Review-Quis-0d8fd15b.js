import{j as e}from"./app-8e6b5599.js";import{X as V,r,x as C,A as F}from"./vendor-a2d89f66.js";import{B as h}from"./button-51c1de47.js";import{C as S,c as E,d as L,a as P}from"./card-a4b0393e.js";import{B as H}from"./badge-fa59bed8.js";import{A as R,a as $,b as Q,c as O}from"./accordion-d6d18d08.js";import{D as W}from"./DashboardLayout-337c3eac.js";import{L as q,E as Z}from"./ExpAlert-a2d40067.js";import{m as a}from"./createLucideIcon-e6564e10.js";import{E as T}from"./eye-c55f7347.js";import{B}from"./brain-32c44f59.js";import{A as J}from"./sun-3243cf8b.js";import{T as p}from"./target-b7791dd8.js";import{Z as I}from"./zap-fb9918e2.js";import{T as Y}from"./trending-up-beea9404.js";import{C as b}from"./circle-check-big-6964144c.js";import{C as G}from"./circle-x-ced22e7b.js";import{L as _}from"./list-7161c065.js";import{H as ee}from"./house-b461d1a0.js";import{C as te}from"./circle-alert-126e2944.js";import{T as se}from"./trophy-442305c5.js";import{S as ae}from"./star-143fde45.js";import{A as re}from"./award-03f7a4f8.js";import"./index-5318cce7.js";import"./chevron-down-911cb304.js";import"./chevron-right-d9a18686.js";import"./check-dd9ca4d5.js";import"./triangle-alert-44034f1b.js";import"./book-open-text-1c021403.js";import"./sparkles-a9c2c942.js";import"./x-055fb87e.js";import"./user-e1319350.js";import"./plus-aae4e26e.js";const ie=({onClose:t})=>{const[j,n]=r.useState(!0),l=()=>{n(!1),setTimeout(()=>{t&&t()},500)};return e.jsx(J,{children:j&&e.jsxs(e.Fragment,{children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:.7},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:l}),e.jsx(a.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{type:"spring",damping:20,stiffness:300},className:"fixed inset-0 flex items-center justify-center z-50 p-4 overflow-hidden",children:e.jsx("div",{className:"w-full max-w-md max-h-[90vh] flex flex-col",children:e.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 rounded-2xl shadow-2xl border border-slate-200/50 dark:border-slate-700/30 flex-1 flex flex-col",children:e.jsx("div",{className:"p-6 pt-8",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx(a.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"mb-4 bg-gradient-to-br from-slate-500 to-slate-600 p-4 rounded-xl shadow-lg",children:e.jsx(te,{className:"h-10 w-10 text-white"})}),e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[e.jsx("h2",{className:"text-xl font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Perhatian"}),e.jsxs("h1",{className:"text-2xl font-bold mb-2 text-slate-900 dark:text-white",children:["EXP yang kamu dapatkan dari kuis ini: ",e.jsx("span",{className:"text-red-600 dark:text-red-400 font-bold",children:"0"})]})]}),e.jsx(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.8},children:e.jsx(h,{onClick:l,className:"bg-gradient-to-r from-slate-600 to-slate-700 hover:from-slate-700 hover:to-slate-800 text-white",children:"Mengerti"})})]})})})})})]})})};function Fe(){const{quizResults:t,user:j,currentLevel:n,currentExp:l,maxExp:u,nextLevelExp:le}=V().props;r.useState(!0);const[d,N]=r.useState("overview"),[z,D]=r.useState([]),[o,v]=r.useState(0),[ne,y]=r.useState(!1),[w,c]=r.useState(t.leveledUp),[K,m]=r.useState(t.expGained>0&&!t.leveledUp),[U,x]=r.useState(t.expGained===0);r.useState({level:t.newLevel,unlockedFeatures:t.unlockedFeatures||[]}),r.useState({currentExp:t.currentExp,expGained:t.expGained,nextLevelExp:t.nextLevelExp}),r.useEffect(()=>{t.leveledUp?(c(!0),m(!1),x(!1)):t.expGained>0?(c(!1),m(!0),x(!1)):(c(!1),m(!1),x(!0))},[t]),r.useEffect(()=>{const i=33.333333333333336,f=t.correctAnswers/60;let g=0;const A=setInterval(()=>{g++,v(Math.round(f*g)),g>=60&&(clearInterval(A),v(t.correctAnswers))},i);return()=>clearInterval(A)},[t.correctAnswers]),r.useEffect(()=>{o===t.correctAnswers&&t.percentage>=80&&(y(!0),setTimeout(()=>y(!1),3e3))},[o]);const X=()=>{F.visit(route("dashboard"))},M=(()=>t.percentage>=90?{text:"Sempurna! 🎉",color:"text-green-600",bg:"bg-gradient-to-r from-green-50 to-emerald-50",icon:se}:t.percentage>=80?{text:"Luar Biasa! 👏",color:"text-blue-600",bg:"bg-gradient-to-r from-blue-50 to-indigo-50",icon:ae}:t.percentage>=70?{text:"Bagus! 👍",color:"text-orange-600",bg:"bg-gradient-to-r from-orange-50 to-yellow-50",icon:p}:{text:"Terus Berlatih! 💪",color:"text-red-600",bg:"bg-gradient-to-r from-red-50 to-pink-50",icon:re})().icon;return e.jsx(W,{children:e.jsx("div",{className:"text-foreground",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs(a.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex items-center space-x-2 text-sm bg-gradient-to-r from-background to-muted/50 dark:from-slate-950 dark:to-slate-900/50 p-3 rounded-lg shadow-sm border border-border/50 dark:border-slate-800/50 mb-[50px] w-fit",children:[e.jsxs("div",{className:"flex flex-wrap items-center space-x-2",children:[e.jsx(C,{href:route("dashboard"),children:e.jsx("span",{className:"text-muted-foreground dark:text-slate-400 hover:text-violet-800 dark:hover:text-violet-300 transition-all duration-300",children:"Dashboard"})}),e.jsx("span",{className:"text-primary dark:text-violet-400",children:"/"}),e.jsx(C,{href:route("huruf"),children:e.jsx("span",{className:"text-violet-400 dark:text-violet-600",children:"Huruf Jepang"})}),e.jsx("span",{className:"text-primary dark:text-violet-400",children:"/"}),e.jsx("span",{className:"text-violet-400 dark:text-violet-600",children:"Review Kuis"})]}),e.jsx(a.div,{className:"h-1 w-1 rounded-full bg-primary/50 dark:bg-violet-500/50",animate:{scale:[1,1.5,1]},transition:{duration:2,repeat:Number.POSITIVE_INFINITY}})]}),w&&e.jsx(q,{isVisible:w,handleClose:()=>c(!1),level:t.newLevel,unlockedFeatures:t.unlockedFeatures}),K&&e.jsx(Z,{onClose:()=>m(!1),currentExp:t.currentExp,expGained:t.expGained,nextLevelExp:t.nextLevelExp,textAlert1:"Selamat! Anda telah menyelesaikan kuis dan mendapatkan poin pengalaman."}),U&&e.jsx(ie,{onClose:()=>x(!1)}),e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8",children:[e.jsxs("div",{className:"bg-card/80 backdrop-blur-sm rounded-3xl shadow-2xl p-8 mb-6 border border-border/50",children:[e.jsx(a.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.3,type:"spring",stiffness:150},className:"mb-6",children:e.jsx(M,{className:"w-20 h-20 text-primary mx-auto"})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent mb-4",children:"Hasil Kuis Kamu 🎉"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs(a.div,{className:"text-4xl md:text-6xl font-bold text-primary mb-2",initial:{scale:0},animate:{scale:1},transition:{delay:.5,type:"spring"},children:[e.jsx(a.span,{initial:{scale:1.3,color:"hsl(var(--primary))"},animate:{scale:1,color:"hsl(var(--primary))"},transition:{duration:.3},children:o},o),e.jsxs("span",{className:"text-muted-foreground text-2xl md:text-3xl",children:["/",t.totalQuestions]})]}),e.jsx("p",{className:"text-xs md:text-sm text-muted-foreground font-medium",children:"Jawaban Benar"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs(a.div,{className:"text-4xl md:text-6xl font-bold text-primary mb-2",initial:{scale:0},animate:{scale:1},transition:{delay:.7,type:"spring"},children:[t.percentage,"%"]}),e.jsx("p",{className:"text-xs md:text-sm text-muted-foreground font-medium",children:"Persentase"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs(a.div,{className:"text-4xl md:text-6xl font-bold text-primary mb-2",initial:{scale:0},animate:{scale:1},transition:{delay:.9,type:"spring"},children:[Math.floor(t.timeSpent/60),":",(t.timeSpent%60).toString().padStart(2,"0")]}),e.jsx("p",{className:"text-xs md:text-sm text-muted-foreground font-medium",children:"Waktu"})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:["Level ",n]}),e.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[l,"/",u," EXP"]})]}),e.jsx("div",{className:"h-4 bg-muted rounded-full overflow-hidden",children:e.jsx(a.div,{initial:{width:0},animate:{width:`${l/u*100}%`},transition:{duration:1,delay:1},className:"h-full bg-gradient-to-r from-primary to-primary/80"})})]}),e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2},className:"flex justify-center mb-8",children:e.jsx("div",{className:"bg-card/50 backdrop-blur-sm rounded-2xl p-2 shadow-lg border border-border/50",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(h,{variant:d==="overview"?"default":"ghost",onClick:()=>N("overview"),className:"rounded-xl",children:[e.jsx(T,{className:"w-4 h-4 mr-2"}),"Overview"]}),e.jsxs(h,{variant:d==="detailed"?"default":"ghost",onClick:()=>N("detailed"),className:"rounded-xl",children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),"Detail"]})]})})})]}),e.jsxs(J,{mode:"wait",children:[d==="overview"&&e.jsx(a.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.4},children:e.jsxs(S,{className:"bg-card backdrop-blur-sm shadow-2xl border-border/50 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-primary/5"}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-primary"}),e.jsxs(E,{className:"relative z-10",children:[e.jsxs(L,{className:"text-2xl font-bold text-foreground flex items-center gap-3",children:[e.jsx("div",{className:"bg-primary p-2 rounded-xl shadow-lg",children:e.jsx(T,{className:"w-7 h-7 text-primary-foreground"})}),"Ringkasan Hasil"]}),e.jsx("p",{className:"text-muted-foreground",children:"Gambaran umum tentang performa kuis kamu"})]}),e.jsx(P,{className:"relative z-10",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-card/50 rounded-xl p-6 border border-border/50",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(p,{className:"w-5 h-5 text-primary"}),"Performa"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"Jawaban Benar"}),e.jsxs("span",{className:"font-semibold",children:[t.correctAnswers,"/",t.totalQuestions]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"Persentase"}),e.jsxs("span",{className:"font-semibold",children:[t.percentage,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"Waktu"}),e.jsxs("span",{className:"font-semibold",children:[Math.floor(t.timeSpent/60),":",(t.timeSpent%60).toString().padStart(2,"0")]})]})]})]}),e.jsxs("div",{className:"bg-card/50 rounded-xl p-6 border border-border/50",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(I,{className:"w-5 h-5 text-primary"}),"EXP & Level"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"EXP Didapat"}),e.jsxs("span",{className:"font-semibold",children:["+",t.expGained]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"Level Saat Ini"}),e.jsx("span",{className:"font-semibold",children:n})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"EXP Total"}),e.jsxs("span",{className:"font-semibold",children:[l,"/",u]})]})]})]})]}),e.jsxs("div",{className:"bg-card/50 rounded-xl p-6 border border-border/50",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Y,{className:"w-5 h-5 text-primary"}),"Grafik Performa"]}),e.jsx("div",{className:"h-[300px] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📊"}),e.jsx("p",{className:"text-muted-foreground",children:"Grafik performa akan ditampilkan di sini"})]})})]})]})})]})},"overview"),d==="detailed"&&e.jsx(a.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.4},children:e.jsxs(S,{className:"bg-card backdrop-blur-sm shadow-2xl border-border/50 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-primary/5"}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-primary"}),e.jsxs(E,{className:"relative z-10",children:[e.jsxs(L,{className:"text-2xl font-bold text-foreground flex items-center gap-3",children:[e.jsx("div",{className:"bg-primary p-2 rounded-xl shadow-lg",children:e.jsx(B,{className:"w-7 h-7 text-primary-foreground"})}),"Review Detail Jawaban"]}),e.jsx("p",{className:"text-muted-foreground",children:"Analisis mendalam untuk setiap soal yang telah dijawab"})]}),e.jsx(P,{className:"relative z-10",children:e.jsx(R,{type:"multiple",value:z,onValueChange:D,children:t.answers.map((s,k)=>e.jsxs($,{value:`item-${s.id}`,className:"border-b border-gray-200",children:[e.jsx(Q,{className:"hover:no-underline py-6",children:e.jsx("div",{className:"flex items-center justify-between w-full pr-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold shadow-lg ${s.isCorrect?"bg-gradient-to-br from-green-400 to-green-600 text-white":"bg-gradient-to-br from-red-400 to-red-600 text-white"}`,children:k+1}),e.jsxs("div",{className:"text-left",children:[e.jsxs("div",{className:"font-bold text-gray-800 text-lg md:text-3xl mb-1",children:["Karakter: ",e.jsx("span",{className:"text-lg md:text-4xl text-indigo-600 ml-2 break-words",children:s.character})]}),e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:s.question}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(H,{className:"text-xs bg-yellow-100 text-yellow-700",children:[e.jsx(I,{className:"w-3 h-3 mr-1"}),"+",s.expGained," EXP"]})})]})]})})}),e.jsx(O,{children:e.jsxs("div",{className:"space-y-4 p-4",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(p,{className:"w-4 h-4 text-indigo-600"}),"Jawaban Kamu:"]}),s.userAnswer?e.jsxs("div",{className:`p-4 rounded-xl border-2 ${s.isCorrect?"border-green-300 bg-gradient-to-r from-green-50 to-green-100 text-green-800":"border-red-300 bg-gradient-to-r from-red-50 to-red-100 text-red-800"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-bold text-xl",children:s.userAnswer}),s.isCorrect?e.jsx(b,{className:"w-6 h-6"}):e.jsx(G,{className:"w-6 h-6"})]}),e.jsx("p",{className:"text-sm mt-2 opacity-80",children:s.isCorrect?"Jawaban kamu benar!":"Jawaban kamu kurang tepat"})]}):e.jsxs("div",{className:"p-4 rounded-xl border-2 border-gray-300 bg-gradient-to-r from-gray-50 to-gray-100 text-gray-700",children:[e.jsx("span",{className:"font-bold text-xl",children:"-"}),e.jsx("p",{className:"text-sm mt-2 opacity-80",children:"Kamu tidak menjawab soal ini"})]})]}),!s.isCorrect&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(p,{className:"w-4 h-4 text-indigo-600"}),"Jawaban Benar:"]}),e.jsx("div",{className:"p-4 rounded-xl border-2 border-green-300 bg-gradient-to-r from-green-50 to-green-100 text-green-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-bold text-xl",children:s.correctAnswer}),e.jsx(b,{className:"w-6 h-6"})]})})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2 text-base md:text-lg",children:[e.jsx(_,{className:"w-4 h-4 text-indigo-600"}),"Opsi Jawaban:"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:s.options.map((i,f)=>e.jsxs("div",{className:`p-3 rounded-lg border flex items-center gap-2 min-w-0 break-words ${i.id===s.correctAnswer?"border-green-300 bg-green-50 dark:bg-green-900/60":i.id===s.userAnswer?"border-red-300 bg-red-50 dark:bg-red-900/60":"border-gray-200 bg-gray-50 dark:bg-slate-800/80"}`,children:[e.jsxs("span",{className:"font-bold text-base md:text-lg text-gray-700 dark:text-white mr-2",children:[String.fromCharCode(65+f),"."]}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white text-sm md:text-base truncate min-w-0",style:{maxWidth:"100%"},children:i.text}),i.id===s.correctAnswer&&e.jsx(b,{className:"w-5 h-5 md:w-6 md:h-6 text-green-500 ml-auto flex-shrink-0"}),i.id===s.userAnswer&&!s.isCorrect&&e.jsx(G,{className:"w-5 h-5 md:w-6 md:h-6 text-red-500 ml-auto flex-shrink-0"})]},i.id))})]})]})})]},s.id))})})]})},"detailed")]}),e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.4},className:"flex justify-center",children:e.jsxs(h,{onClick:X,size:"lg",className:"flex items-center gap-2 hover:scale-105 transition-all duration-300 bg-primary hover:bg-primary/90 text-primary-foreground shadow-lg px-8 py-4 text-lg",children:[e.jsx(ee,{className:"w-5 h-5"}),"Kembali ke Menu Utama"]})}),e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.6},className:"text-center mt-8",children:e.jsx("p",{className:"text-muted-foreground",children:t.percentage>=80?"Kamu luar biasa! Terus pertahankan semangat belajarmu! 🌟":"Jangan menyerah! Setiap kesalahan adalah kesempatan untuk belajar. 💪"})})]})]})})})}export{Fe as default};
