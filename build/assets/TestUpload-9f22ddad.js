import{j as e}from"./app-b1a96c56.js";import{r as i,G as f}from"./vendor-a2d89f66.js";function j(){const[g,c]=i.useState(null),[t,m]=i.useState(null),{data:l,setData:o,post:u,processing:r,errors:d}=f({name:"Test User",avatar:null}),p=s=>{const a=s.target.files[0];if(a){console.log("File selected:",{name:a.name,size:a.size,type:a.type}),c(a),o("avatar",a);const n=new FileReader;n.onload=x=>{m(x.target.result)},n.readAsDataURL(a)}},b=s=>{s.preventDefault(),console.log("Submitting form with data:",l),u("/test-upload",{forceFormData:!0,onSuccess:a=>{console.log("Upload successful"),alert("Upload successful!")},onError:a=>{console.log("Upload failed:",a),alert("Upload failed: "+JSON.stringify(a))}})};return e.jsx("div",{className:"min-h-screen bg-gray-100 py-8 px-4",children:e.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-md p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Test File Upload"}),e.jsxs("form",{onSubmit:b,encType:"multipart/form-data",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Name:"}),e.jsx("input",{type:"text",value:l.name,onChange:s=>o("name",s.target.value),className:"w-full p-2 border rounded"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Avatar:"}),e.jsx("input",{type:"file",accept:"image/*",onChange:p,className:"w-full p-2 border rounded"})]}),t&&e.jsx("div",{className:"mb-4",children:e.jsx("img",{src:t,alt:"Preview",className:"w-32 h-32 object-cover rounded"})}),e.jsx("button",{type:"submit",disabled:r,className:"w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600 disabled:opacity-50",children:r?"Uploading...":"Upload"})]}),d.avatar&&e.jsx("div",{className:"mt-4 p-2 bg-red-100 text-red-700 rounded",children:d.avatar})]})})}export{j as default};
