import{j as e}from"./app-69830cb4.js";import{X as W,r,x as L,A as $}from"./vendor-a2d89f66.js";import{B as v}from"./button-0b9cc573.js";import{C as T,c as I,d as B,a as G}from"./card-114b6d34.js";import{B as Z}from"./badge-d508430d.js";import{A as Y,a as _,b as z,c as R}from"./accordion-44d10e5d.js";import{D as q}from"./DashboardLayout-e78b449d.js";import{L as ee,E as ae}from"./ExpAlert-a338ff2b.js";import{m as s}from"./createLucideIcon-28a3061d.js";import{E as J}from"./eye-59d93b1b.js";import{B as U}from"./brain-027a4d8d.js";import{A as K}from"./index-bc975aa2.js";import{T as u}from"./target-f38b09f0.js";import{Z as X}from"./zap-d5ca3a3e.js";import{T as te}from"./trending-up-f6866fee.js";import{C as N}from"./circle-check-big-719fcaf4.js";import{C as D}from"./circle-x-14d5f313.js";import{L as se}from"./list-1f34deb8.js";import{H as re}from"./house-0a137c87.js";import{C as ie}from"./circle-alert-3f0eb376.js";import{T as le}from"./trophy-c3e37b19.js";import{S as ne}from"./star-c5b25d8c.js";import{A as de}from"./sun-3d84538b.js";import"./index-844afc11.js";import"./chevron-right-8d8b2211.js";import"./triangle-alert-7cd2e142.js";import"./x-0a7caecd.js";import"./user-4f8680ac.js";import"./plus-7196a7ba.js";const oe=({onClose:a})=>{const[c,l]=r.useState(!0),i=()=>{l(!1),setTimeout(()=>{a&&a()},500)};return e.jsx(K,{children:c&&e.jsxs(e.Fragment,{children:[e.jsx(s.div,{initial:{opacity:0},animate:{opacity:.7},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:i}),e.jsx(s.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{type:"spring",damping:20,stiffness:300},className:"fixed inset-0 flex items-center justify-center z-50 p-4 overflow-hidden",children:e.jsx("div",{className:"w-full max-w-md max-h-[90vh] flex flex-col",children:e.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 rounded-2xl shadow-2xl border border-slate-200/50 dark:border-slate-700/30 flex-1 flex flex-col",children:e.jsx("div",{className:"p-6 pt-8",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx(s.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"mb-4 bg-gradient-to-br from-slate-500 to-slate-600 p-4 rounded-xl shadow-lg",children:e.jsx(ie,{className:"h-10 w-10 text-white"})}),e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[e.jsx("h2",{className:"text-xl font-medium text-slate-700 dark:text-slate-300 mb-1",children:"注意！"}),e.jsx("h1",{className:"text-2xl font-bold mb-2 text-slate-900 dark:text-white",children:"Tidak Ada EXP"})]}),e.jsx(s.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"mb-6",children:e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Anda tidak mendapatkan EXP karena sudah menggunakan soal di kuis ini lebih dari 3 kali. Coba kuis lain untuk mendapatkan EXP!"})}),e.jsx(s.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.8},children:e.jsx(v,{onClick:i,className:"bg-gradient-to-r from-slate-600 to-slate-700 hover:from-slate-700 hover:to-slate-800 text-white",children:"Mengerti"})})]})})})})})]})})};function He(){const{quizResults:a,user:c,currentLevel:l,currentExp:i,maxExp:o,nextLevelExp:y}=W().props;return!a||!c||l===void 0||i===void 0||o===void 0?e.jsx("div",{className:"text-center text-red-500 p-10",children:"Data review quiz tidak lengkap. Silakan kembali ke dashboard."}):e.jsx(ce,{quizResults:a,user:c,currentLevel:l,currentExp:i,maxExp:o,nextLevelExp:y})}function ce({quizResults:a,user:c,currentLevel:l,currentExp:i,maxExp:o,nextLevelExp:y}){r.useState(!0);const[h,w]=r.useState("overview"),[F,M]=r.useState([]),[f,k]=r.useState(0),[me,A]=r.useState(!1),[C,g]=r.useState(a.leveledUp),[V,b]=r.useState(a.expGained>0&&!a.leveledUp),[H,j]=r.useState(a.expGained===0);r.useState({level:a.newLevel,unlockedFeatures:a.unlockedFeatures||[]}),r.useState({currentExp:a.currentExp,expGained:a.expGained,nextLevelExp:a.nextLevelExp}),r.useEffect(()=>{a.leveledUp?(g(!0),b(!1),j(!1)):a.expGained>0?(g(!1),b(!0),j(!1)):(g(!1),b(!1),j(!0))},[a]),r.useEffect(()=>{const n=33.333333333333336,m=a.correctAnswers/60;let d=0;const x=setInterval(()=>{d++,k(Math.round(m*d)),d>=60&&(clearInterval(x),k(a.correctAnswers))},n);return()=>clearInterval(x)},[a.correctAnswers]),r.useEffect(()=>{f===a.correctAnswers&&a.percentage>=80&&(A(!0),setTimeout(()=>A(!1),3e3))},[f]);const Q=()=>{$.visit(route("dashboard"))},O=(()=>a.percentage>=90?{text:"Sempurna! 🎉",color:"text-green-600",bg:"bg-gradient-to-r from-green-50 to-emerald-50",icon:le}:a.percentage>=80?{text:"Luar Biasa! 👏",color:"text-blue-600",bg:"bg-gradient-to-r from-blue-50 to-indigo-50",icon:ne}:a.percentage>=70?{text:"Bagus! 👍",color:"text-orange-600",bg:"bg-gradient-to-r from-orange-50 to-yellow-50",icon:u}:{text:"Terus Berlatih! 💪",color:"text-red-600",bg:"bg-gradient-to-r from-red-50 to-pink-50",icon:de})().icon;return e.jsx(q,{children:e.jsx("div",{className:"text-foreground",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs(s.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex items-center space-x-2 text-sm bg-gradient-to-r from-background to-muted/50 dark:from-slate-950 dark:to-slate-900/50 p-3 rounded-lg shadow-sm border border-border/50 dark:border-slate-800/50 mb-[50px] w-fit",children:[e.jsxs("div",{className:"flex flex-wrap items-center space-x-2",children:[e.jsx(L,{href:route("dashboard"),children:e.jsx("span",{className:"text-muted-foreground dark:text-slate-400 hover:text-violet-800 dark:hover:text-violet-300 transition-all duration-300",children:"Dashboard"})}),e.jsx("span",{className:"text-primary dark:text-violet-400",children:"/"}),e.jsx(L,{href:route("list-kosakata"),children:e.jsx("span",{className:"text-violet-400 dark:text-violet-600",children:"Kosakata Jepang"})}),e.jsx("span",{className:"text-primary dark:text-violet-400",children:"/"}),e.jsx("span",{className:"text-violet-400 dark:text-violet-600",children:"Review Kuis"})]}),e.jsx(s.div,{className:"h-1 w-1 rounded-full bg-primary/50 dark:bg-violet-500/50",animate:{scale:[1,1.5,1]},transition:{duration:2,repeat:Number.POSITIVE_INFINITY}})]}),C&&e.jsx(ee,{isVisible:C,handleClose:()=>g(!1),level:a.newLevel,unlockedFeatures:a.unlockedFeatures}),V&&e.jsx(ae,{onClose:()=>b(!1),currentExp:a.currentExp,expGained:a.expGained,nextLevelExp:a.nextLevelExp,textAlert1:"Selamat! Anda telah menyelesaikan kuis dan mendapatkan poin pengalaman."}),H&&e.jsx(oe,{onClose:()=>j(!1)}),e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8",children:[e.jsxs("div",{className:"bg-card/80 backdrop-blur-sm rounded-3xl shadow-2xl p-8 mb-6 border border-border/50",children:[e.jsx(s.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.3,type:"spring",stiffness:150},className:"mb-6",children:e.jsx(O,{className:"w-20 h-20 text-primary mx-auto"})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent mb-4",children:"Hasil Kuis Kamu 🎉"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs(s.div,{className:"text-5xl md:text-6xl font-bold text-primary mb-2",initial:{scale:0},animate:{scale:1},transition:{delay:.5,type:"spring"},children:[e.jsx(s.span,{initial:{scale:1.3,color:"hsl(var(--primary))"},animate:{scale:1,color:"hsl(var(--primary))"},transition:{duration:.3},children:f},f),e.jsxs("span",{className:"text-muted-foreground text-3xl",children:["/",a.totalQuestions]})]}),e.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Jawaban Benar"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs(s.div,{className:"text-5xl md:text-6xl font-bold text-primary mb-2",initial:{scale:0},animate:{scale:1},transition:{delay:.7,type:"spring"},children:[a.percentage,"%"]}),e.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Persentase"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs(s.div,{className:"text-5xl md:text-6xl font-bold text-primary mb-2",initial:{scale:0},animate:{scale:1},transition:{delay:.9,type:"spring"},children:[Math.floor(a.timeSpent/60),":",(a.timeSpent%60).toString().padStart(2,"0")]}),e.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Waktu"})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:["Level ",l]}),e.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[i,"/",o," EXP"]})]}),e.jsx("div",{className:"h-4 bg-muted rounded-full overflow-hidden",children:e.jsx(s.div,{initial:{width:0},animate:{width:`${i/o*100}%`},transition:{duration:1,delay:1},className:"h-full bg-gradient-to-r from-primary to-primary/80"})})]}),e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2},className:"flex justify-center mb-8",children:e.jsx("div",{className:"bg-card/50 backdrop-blur-sm rounded-2xl p-2 shadow-lg border border-border/50",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(v,{variant:h==="overview"?"default":"ghost",onClick:()=>w("overview"),className:"rounded-xl",children:[e.jsx(J,{className:"w-4 h-4 mr-2"}),"Overview"]}),e.jsxs(v,{variant:h==="detailed"?"default":"ghost",onClick:()=>w("detailed"),className:"rounded-xl",children:[e.jsx(U,{className:"w-4 h-4 mr-2"}),"Detail"]})]})})})]}),e.jsxs(K,{mode:"wait",children:[h==="overview"&&e.jsx(s.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.4},children:e.jsxs(T,{className:"bg-card backdrop-blur-sm shadow-2xl border-border/50 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-primary/5"}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-primary"}),e.jsxs(I,{className:"relative z-10",children:[e.jsxs(B,{className:"text-2xl font-bold text-foreground flex items-center gap-3",children:[e.jsx("div",{className:"bg-primary p-2 rounded-xl shadow-lg",children:e.jsx(J,{className:"w-7 h-7 text-primary-foreground"})}),"Ringkasan Hasil"]}),e.jsx("p",{className:"text-muted-foreground",children:"Gambaran umum tentang performa kuis kamu"})]}),e.jsx(G,{className:"relative z-10",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-card/50 rounded-xl p-6 border border-border/50",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(u,{className:"w-5 h-5 text-primary"}),"Performa"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"Jawaban Benar"}),e.jsxs("span",{className:"font-semibold",children:[a.correctAnswers,"/",a.totalQuestions]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"Persentase"}),e.jsxs("span",{className:"font-semibold",children:[a.percentage,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"Waktu"}),e.jsxs("span",{className:"font-semibold",children:[Math.floor(a.timeSpent/60),":",(a.timeSpent%60).toString().padStart(2,"0")]})]})]})]}),e.jsxs("div",{className:"bg-card/50 rounded-xl p-6 border border-border/50",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(X,{className:"w-5 h-5 text-primary"}),"EXP & Level"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"EXP Didapat"}),e.jsxs("span",{className:"font-semibold",children:["+",a.expGained]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"Level Saat Ini"}),e.jsx("span",{className:"font-semibold",children:l})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"EXP Total"}),e.jsxs("span",{className:"font-semibold",children:[i,"/",o]})]})]})]})]}),e.jsxs("div",{className:"bg-card/50 rounded-xl p-6 border border-border/50",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(te,{className:"w-5 h-5 text-primary"}),"Grafik Performa"]}),e.jsx("div",{className:"h-[300px] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📊"}),e.jsx("p",{className:"text-muted-foreground",children:"Grafik performa akan ditampilkan di sini"})]})})]})]})})]})},"overview"),h==="detailed"&&e.jsx(s.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.4},children:e.jsxs(T,{className:"bg-card backdrop-blur-sm shadow-2xl border-border/50 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-primary/5"}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-primary"}),e.jsxs(I,{className:"relative z-10",children:[e.jsxs(B,{className:"text-2xl font-bold text-foreground flex items-center gap-3",children:[e.jsx("div",{className:"bg-primary p-2 rounded-xl shadow-lg",children:e.jsx(U,{className:"w-7 h-7 text-primary-foreground"})}),"Review Detail Jawaban"]}),e.jsx("p",{className:"text-muted-foreground",children:"Analisis mendalam untuk setiap soal yang telah dijawab"})]}),e.jsx(G,{className:"relative z-10",children:e.jsx(Y,{type:"multiple",value:F,onValueChange:M,children:a.answers.map((t,S)=>e.jsxs(_,{value:`item-${t.id}`,className:"border-b border-gray-200",children:[e.jsx(z,{className:"hover:no-underline py-6",children:e.jsx("div",{className:"flex items-center justify-between w-full pr-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold shadow-lg ${t.isCorrect?"bg-gradient-to-br from-green-400 to-green-600 text-white":"bg-gradient-to-br from-red-400 to-red-600 text-white"}`,children:S+1}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-bold text-gray-800 text-lg mb-1",children:t.kanji||t.romaji?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-3xl text-indigo-600 ml-2",children:t.kanji}),e.jsxs("span",{className:"text-lg text-gray-600 ml-2",children:["(",t.romaji||"",")"]})]}):e.jsx("span",{className:"text-base text-gray-500 ml-2",children:"(Soal: Indonesia → Jepang)"})}),e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:t.arti}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(Z,{className:"text-xs bg-yellow-100 text-yellow-700",children:[e.jsx(X,{className:"w-3 h-3 mr-1"}),"+",t.expGained," EXP"]})})]})]})})}),e.jsx(R,{children:e.jsxs("div",{className:"space-y-4 p-4",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(u,{className:"w-4 h-4 text-indigo-600"}),"Jawaban Kamu:"]}),t.userAnswer?e.jsxs("div",{className:`p-4 rounded-xl border-2 ${t.isCorrect?"border-green-300 bg-green-50 dark:border-green-700 dark:bg-green-900/40":"border-red-300 bg-red-50 dark:border-red-700 dark:bg-red-900/40"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-bold text-xl",children:t.userAnswer}),t.isCorrect?e.jsx(N,{className:"w-6 h-6"}):e.jsx(D,{className:"w-6 h-6"})]}),e.jsx("p",{className:"text-sm mt-2 opacity-80",children:t.isCorrect?"Jawaban kamu benar!":"Jawaban kamu kurang tepat"})]}):e.jsxs("div",{className:"p-4 rounded-xl border-2 border-gray-300 bg-gradient-to-r from-gray-50 to-gray-100 text-gray-700",children:[e.jsx("span",{className:"font-bold text-xl",children:"-"}),e.jsx("p",{className:"text-sm mt-2 opacity-80",children:"Kamu tidak menjawab soal ini"})]})]}),!t.isCorrect&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(u,{className:"w-4 h-4 text-indigo-600"}),"Jawaban Benar:"]}),e.jsx("div",{className:"p-4 rounded-xl border-2 border-green-300 bg-gradient-to-r from-green-50 to-green-100 text-green-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-bold text-xl",children:t.correctAnswer}),e.jsx(N,{className:"w-6 h-6"})]})})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(se,{className:"w-4 h-4 text-indigo-600"}),"Opsi Jawaban:"]}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:Array.isArray(t.options)?t.options.map(n=>{const m=n.id===t.userAnswer,d=n.id===t.correctAnswer,x=m&&d,E=m&&!d,P=d&&!m;let p="p-3 rounded-lg border flex items-center gap-2";return x?p+=" border-green-400 bg-green-50 text-green-800 font-bold":E?p+=" border-red-400 bg-red-50 text-red-800 font-bold":P?p+=" border-green-300 bg-green-100 text-green-800":p+=" border-gray-200 bg-gray-50 dark:bg-slate-800/90 dark:text-slate-100",e.jsxs("div",{className:p,children:[e.jsx("span",{className:"inline-block w-6 h-6 rounded-full bg-indigo-100 text-indigo-700 font-bold text-center mr-2",children:n.id}),e.jsx("span",{children:n.text}),x&&e.jsx(N,{className:"w-5 h-5 text-green-500 ml-auto"}),E&&e.jsx(D,{className:"w-5 h-5 text-red-500 ml-auto"}),P&&e.jsx(N,{className:"w-5 h-5 text-green-400 ml-auto"})]},n.id)}):null})]})]})})]},t.id))})})]})},"detailed")]}),e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.4},className:"flex justify-center",children:e.jsxs(v,{onClick:Q,size:"lg",className:"flex items-center gap-2 hover:scale-105 transition-all duration-300 bg-primary hover:bg-primary/90 text-primary-foreground shadow-lg px-8 py-4 text-lg",children:[e.jsx(re,{className:"w-5 h-5"}),"Kembali ke Menu Utama"]})}),e.jsx(s.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.6},className:"text-center mt-8",children:e.jsx("p",{className:"text-muted-foreground",children:a.percentage>=80?"Kamu luar biasa! Terus pertahankan semangat belajarmu! 🌟":"Jangan menyerah! Setiap kesalahan adalah kesempatan untuk belajar. 💪"})})]})]})})})}export{He as default};
