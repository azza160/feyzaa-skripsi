import{j as e}from"./app-57e7bed0.js";import{X as je,r as n,S as xe,A as M}from"./vendor-a2d89f66.js";import{C as pe,a as fe,b as ge,c as ve}from"./card-94e97b23.js";import{B as i}from"./button-b255e397.js";import{I as u}from"./input-77681c11.js";import{L as s}from"./label-acbb46eb.js";import{T as Z}from"./textarea-da492f64.js";import{S as w,a as H,b as T,c as D,d as t}from"./select-084f9a0f.js";import{T as ke,a as Ne,b as K,c as d,d as Ce,e as c}from"./table-f62baeff.js";import{D as L,a as R,b as z,c as E,d as $,e as be}from"./dialog-08090aed.js";import{A as ye}from"./AdminDashboardLayout-1ace00be.js";import{s as J}from"./index-1df17e58.js";import{P as _e}from"./plus-424d13ac.js";import{S as Se}from"./search-d440357c.js";import{P as ee}from"./pause-2133a29a.js";import{P as ae}from"./play-f8de0b3d.js";import{E as we}from"./eye-8269d095.js";import{S as He}from"./square-pen-be699300.js";import{T as Te}from"./trash-2-ee5a2ec2.js";import{C as De}from"./chevron-left-26830aa1.js";import{C as Ae}from"./chevron-right-d74b2ff6.js";import"./dropdown-menu-d0862b52.js";import"./avatar-7ff8c940.js";import"./check-95999c31.js";import"./createLucideIcon-256efdfd.js";import"./chevron-down-a36c0fa8.js";import"./index-007e7e0b.js";import"./x-49dde499.js";import"./house-ebc95582.js";import"./users-1490e3f6.js";import"./book-open-5cdb0389.js";import"./circle-help-c62c54b0.js";const ha=()=>{var Q,W,Y;const{letters:B}=je().props,[A,se]=n.useState(""),[p,re]=n.useState("all"),[f,I]=n.useState("all"),[h,m]=n.useState(1),[G,Fe]=n.useState(null),[O,Pe]=n.useState(!1),le=n.useRef(null),[g,v]=n.useState({open:!1,letter:null}),[V,k]=n.useState({open:!1,letter:null}),[r,U]=n.useState({open:!1,letter:null}),[N,C]=n.useState({open:!1}),[l,F]=n.useState({huruf:"",jenis_huruf:"",kategori_huruf:"",deskripsi:"",romaji:"",urutan:"",jumlah_coretan:"",kategori:"",groups:"",catatan:"",audio:""}),b=10,ne=["all","hiragana","katakana"],ie=["all","gojuon","dakuten","handakuten","youon","sokuon","choon"],y=n.useMemo(()=>B.filter(a=>{const j=a.romaji.toLowerCase().includes(A.toLowerCase()),x=p==="all"||a.jenis_huruf===p,me=f==="all"||a.kategori_huruf===f;return j&&x&&me}),[B,A,p,f]),P=Math.ceil(y.length/b),_=(h-1)*b,q=y.slice(_,_+b),X=a=>{if(!a)return;new Audio(a).play().catch(x=>console.error("Gagal memutar audio:",x))},te=a=>{a&&X(a)},o=(a,j)=>{F(x=>({...x,[a]:j}))},S=()=>{F({huruf:"",jenis_huruf:"",kategori_huruf:"",deskripsi:"",romaji:"",urutan:"",jumlah_coretan:"",kategori:"",groups:"",catatan:"",audio:""})},oe=()=>({...l,urutan:l.urutan===""?null:Number(l.urutan),jumlah_coretan:l.jumlah_coretan===""?null:Number(l.jumlah_coretan)}),ce=()=>{M.post(J("admin.huruf.store"),oe(),{onSuccess:()=>{C({open:!1}),S()}})},de=()=>{M.put(J("admin.huruf.update",V.letter.id),l,{onSuccess:()=>{k({open:!1,letter:null}),S()}})},ue=()=>{M.delete(J("admin.huruf.destroy",g.letter.id),{onSuccess:()=>{v({open:!1,letter:null})}})},he=a=>{F({huruf:a.huruf,jenis_huruf:a.jenis_huruf,kategori_huruf:a.kategori_huruf,deskripsi:a.deskripsi,romaji:a.romaji,urutan:a.urutan.toString(),jumlah_coretan:a.jumlah_coretan.toString(),kategori:a.kategori,groups:a.groups,catatan:a.catatan,audio:a.audio}),k({open:!0,letter:a})};return e.jsxs(ye,{children:[e.jsx(xe,{title:"kelola huruf"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Manajemen Huruf"}),e.jsxs(i,{onClick:()=>C({open:!0}),className:"flex items-center gap-2",children:[e.jsx(_e,{className:"h-4 w-4"}),"Tambah Huruf"]})]}),e.jsxs(pe,{children:[e.jsx(fe,{children:e.jsx(ge,{children:"Data Huruf"})}),e.jsxs(ve,{children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(u,{placeholder:"Cari berdasarkan romaji...",value:A,onChange:a=>{se(a.target.value),m(1)},className:"pl-10"})]}),e.jsxs(w,{value:p,onValueChange:a=>{re(a),I(""),m(1)},children:[e.jsx(H,{className:"w-full lg:w-48",children:e.jsx(T,{placeholder:"Jenis Huruf"})}),e.jsxs(D,{children:[e.jsx(t,{value:"all",children:"Semua"}),e.jsx(t,{value:"hiragana",children:"hiragana"}),e.jsx(t,{value:"katakana",children:"katakana"})]})]}),e.jsxs(w,{value:f,onValueChange:a=>{I(a),m(1)},children:[e.jsx(H,{className:"w-full lg:w-48",children:e.jsx(T,{placeholder:"Kategori Huruf"})}),e.jsxs(D,{children:[e.jsx(t,{value:"all",children:"Semua"}),e.jsx(t,{value:"gojuon",children:"gojuon"}),e.jsx(t,{value:"dakuten",children:"dakuten"}),e.jsx(t,{value:"handakuten",children:"handakuten"}),e.jsx(t,{value:"youon",children:"youon"}),e.jsx(t,{value:"sokuon",children:"sokuon"}),e.jsx(t,{value:"choon",children:"choon"})]})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(ke,{children:[e.jsx(Ne,{children:e.jsxs(K,{children:[e.jsx(d,{children:"Huruf"}),e.jsx(d,{children:"Jenis"}),e.jsx(d,{children:"Kategori"}),e.jsx(d,{children:"Romaji"}),e.jsx(d,{children:"Urutan"}),e.jsx(d,{children:"Coretan"}),e.jsx(d,{children:"Audio"}),e.jsx(d,{children:"Contoh"}),e.jsx(d,{children:"Gambar"}),e.jsx(d,{className:"text-center",children:"Action"})]})}),e.jsx(Ce,{children:q.length>0?q.map(a=>e.jsxs(K,{children:[e.jsx(c,{className:"font-medium text-2xl",children:a.huruf}),e.jsx(c,{children:e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:a.jenis_huruf})}),e.jsx(c,{children:e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:a.kategori_huruf})}),e.jsx(c,{className:"font-medium",children:a.romaji}),e.jsx(c,{children:a.urutan}),e.jsx(c,{children:a.jumlah_coretan}),e.jsx(c,{children:e.jsx(i,{variant:"outline",size:"sm",onClick:()=>te(a.audio),className:"h-8 w-8 p-0",children:G===a.id&&O?e.jsx(ee,{className:"h-4 w-4"}):e.jsx(ae,{className:"h-4 w-4"})})}),e.jsx(c,{children:a.contoh_penggunaans}),e.jsx(c,{children:a.gambar_huruf}),e.jsx(c,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{variant:"outline",size:"sm",onClick:()=>U({open:!0,letter:a}),className:"h-8 w-8 p-0",children:e.jsx(we,{className:"h-4 w-4"})}),e.jsx(i,{variant:"outline",size:"sm",onClick:()=>he(a),className:"h-8 w-8 p-0",children:e.jsx(He,{className:"h-4 w-4"})}),e.jsx(i,{variant:"destructive",size:"sm",onClick:()=>v({open:!0,letter:a}),className:"h-8 w-8 p-0",children:e.jsx(Te,{className:"h-4 w-4"})})]})})]},a.id)):e.jsx(K,{children:e.jsx(c,{colSpan:10,className:"text-center py-8 text-gray-500",children:"Tidak ada data huruf ditemukan"})})})]})}),P>1&&e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("p",{className:"text-sm text-gray-700",children:["Menampilkan ",_+1," - ",Math.min(_+b,y.length)," dari"," ",y.length," data"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>m(h-1),disabled:h===1,children:[e.jsx(De,{className:"h-4 w-4"}),"Previous"]}),Array.from({length:P},(a,j)=>j+1).map(a=>e.jsx(i,{variant:h===a?"default":"outline",size:"sm",onClick:()=>m(a),className:"w-8 h-8 p-0",children:a},a)),e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>m(h+1),disabled:h===P,children:["Next",e.jsx(Ae,{className:"h-4 w-4"})]})]})]})]})]}),e.jsx(L,{open:N.open||V.open,onOpenChange:a=>{a||(C({open:!1}),k({open:!1,letter:null}),S())},children:e.jsxs(R,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsx(z,{children:e.jsx(E,{children:N.open?"Tambah Huruf Baru":"Edit Huruf"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"huruf",children:"Huruf"}),e.jsx(u,{id:"huruf",value:l.huruf,onChange:a=>o("huruf",a.target.value),placeholder:"あ"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"romaji",children:"Romaji"}),e.jsx(u,{id:"romaji",value:l.romaji,onChange:a=>o("romaji",a.target.value),placeholder:"a"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"jenis_huruf",children:"Jenis Huruf"}),e.jsxs(w,{value:l.jenis_huruf,onValueChange:a=>o("jenis_huruf",a),children:[e.jsx(H,{children:e.jsx(T,{placeholder:"Pilih jenis"})}),e.jsx(D,{children:ne.map(a=>e.jsx(t,{value:a,children:a},a))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"kategori_huruf",children:"Kategori Huruf"}),e.jsxs(w,{value:l.kategori_huruf,onValueChange:a=>o("kategori_huruf",a),children:[e.jsx(H,{children:e.jsx(T,{placeholder:"Pilih kategori"})}),e.jsx(D,{children:ie.map(a=>e.jsx(t,{value:a,children:a},a))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"urutan",children:"Urutan"}),e.jsx(u,{id:"urutan",type:"number",value:l.urutan,onChange:a=>o("urutan",a.target.value),placeholder:"1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"jumlah_coretan",children:"Jumlah Coretan"}),e.jsx(u,{id:"jumlah_coretan",type:"number",value:l.jumlah_coretan,onChange:a=>o("jumlah_coretan",a.target.value),placeholder:"3"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"kategori",children:"Kategori"}),e.jsx(u,{id:"kategori",value:l.kategori,onChange:a=>o("kategori",a.target.value),placeholder:"vokal"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"groups",children:"Groups"}),e.jsx(u,{id:"groups",value:l.groups,onChange:a=>o("groups",a.target.value),placeholder:"a-gyou"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"audio",children:"Audio URL"}),e.jsx(u,{id:"audio",value:l.audio,onChange:a=>o("audio",a.target.value),placeholder:"https://example.com/audio.mp3"})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(s,{htmlFor:"deskripsi",children:"Deskripsi"}),e.jsx(Z,{id:"deskripsi",value:l.deskripsi,onChange:a=>o("deskripsi",a.target.value),placeholder:"Deskripsi huruf..."})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(s,{htmlFor:"catatan",children:"Catatan"}),e.jsx(Z,{id:"catatan",value:l.catatan,onChange:a=>o("catatan",a.target.value),placeholder:"Catatan tambahan..."})]})]}),e.jsxs($,{children:[e.jsx(i,{variant:"outline",onClick:()=>{C({open:!1}),k({open:!1,letter:null}),S()},children:"Batal"}),e.jsx(i,{onClick:N.open?ce:de,children:N.open?"Tambah":"Simpan"})]})]})}),e.jsx(L,{open:r.open,onOpenChange:a=>U({open:a,letter:null}),children:e.jsxs(R,{className:"max-w-2xl",children:[e.jsx(z,{children:e.jsxs(E,{children:["Detail Huruf: ",(Q=r.letter)==null?void 0:Q.huruf]})}),r.letter&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(s,{className:"font-semibold",children:"Huruf:"}),e.jsx("p",{className:"text-3xl",children:r.letter.huruf})]}),e.jsxs("div",{children:[e.jsx(s,{className:"font-semibold",children:"Romaji:"}),e.jsx("p",{children:r.letter.romaji})]}),e.jsxs("div",{children:[e.jsx(s,{className:"font-semibold",children:"Jenis Huruf:"}),e.jsx("p",{children:r.letter.jenis_huruf})]}),e.jsxs("div",{children:[e.jsx(s,{className:"font-semibold",children:"Kategori Huruf:"}),e.jsx("p",{children:r.letter.kategori_huruf})]}),e.jsxs("div",{children:[e.jsx(s,{className:"font-semibold",children:"Urutan:"}),e.jsx("p",{children:r.letter.urutan})]}),e.jsxs("div",{children:[e.jsx(s,{className:"font-semibold",children:"Jumlah Coretan:"}),e.jsx("p",{children:r.letter.jumlah_coretan})]}),e.jsxs("div",{children:[e.jsx(s,{className:"font-semibold",children:"Kategori:"}),e.jsx("p",{children:r.letter.kategori})]}),e.jsxs("div",{children:[e.jsx(s,{className:"font-semibold",children:"Groups:"}),e.jsx("p",{children:r.letter.groups})]}),e.jsxs("div",{children:[e.jsx(s,{className:"font-semibold",children:"Contoh Penggunaan:"}),e.jsx("p",{children:r.letter.contoh_penggunaans})]}),e.jsxs("div",{children:[e.jsx(s,{className:"font-semibold",children:"Gambar Huruf:"}),e.jsx("p",{children:r.letter.gambar_huruf})]})]}),e.jsxs("div",{children:[e.jsx(s,{className:"font-semibold",children:"Deskripsi:"}),e.jsx("p",{className:"mt-1 text-gray-700",children:r.letter.deskripsi})]}),e.jsxs("div",{children:[e.jsx(s,{className:"font-semibold",children:"Catatan:"}),e.jsx("p",{className:"mt-1 text-gray-700",children:r.letter.catatan})]}),e.jsxs("div",{children:[e.jsx(s,{className:"font-semibold",children:"Audio:"}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>X(r.letter.audio,r.letter.id),children:[G===r.letter.id&&O?e.jsx(ee,{className:"h-4 w-4 mr-2"}):e.jsx(ae,{className:"h-4 w-4 mr-2"}),"Play Audio"]})})]})]})]})}),e.jsx(L,{open:g.open,onOpenChange:a=>v({open:a,letter:null}),children:e.jsxs(R,{children:[e.jsxs(z,{children:[e.jsx(E,{children:"Konfirmasi Hapus"}),e.jsxs(be,{children:['Apakah Anda yakin ingin menghapus huruf "',(W=g.letter)==null?void 0:W.huruf,'" (',(Y=g.letter)==null?void 0:Y.romaji,")? Tindakan ini tidak dapat dibatalkan."]})]}),e.jsxs($,{children:[e.jsx(i,{variant:"outline",onClick:()=>v({open:!1,letter:null}),children:"Batal"}),e.jsx(i,{variant:"destructive",onClick:ue,children:"Hapus"})]})]})}),e.jsx("audio",{ref:le})]})]})};export{ha as default};
