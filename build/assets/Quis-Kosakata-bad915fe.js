import{j as e}from"./app-57e7bed0.js";import{X as ye,r as s,S as Ne,A as R}from"./vendor-a2d89f66.js";import{B as v}from"./button-b255e397.js";import{D as Se,f as Ce,a as Te,b as Ae,c as Ee,e as _e,d as Ie}from"./dialog-08090aed.js";import{A as ze,a as Re,b as qe,c as De}from"./accordion-8ec7493c.js";import{D as Oe}from"./DashboardLayout-07d83341.js";import{u as $e}from"./use-animation-b2648392.js";import{B as Ke}from"./book-open-5cdb0389.js";import{G as Pe}from"./graduation-cap-1aad6ae1.js";import{E as O}from"./eye-8269d095.js";import{E as W}from"./eye-off-ab6af205.js";import{X as G}from"./x-49dde499.js";import{C as U}from"./clock-14548b5a.js";import{m as n}from"./proxy-e97667fb.js";import{A as Y}from"./index-a1f4cb68.js";import{C as q}from"./circle-check-big-79af314f.js";import{C as D}from"./circle-x-22a89dfd.js";import{T as Qe}from"./trophy-d9db9485.js";import{A as Fe}from"./arrow-right-02ef1c2a.js";import"./index-007e7e0b.js";import"./avatar-7ff8c940.js";import"./dropdown-menu-d0862b52.js";import"./chevron-right-d74b2ff6.js";import"./createLucideIcon-256efdfd.js";import"./check-95999c31.js";import"./chevron-down-a36c0fa8.js";import"./triangle-alert-e6d46c2c.js";import"./chevron-left-26830aa1.js";import"./book-open-text-2d548da7.js";import"./sparkles-037b2d6e.js";import"./user-ef8c1e8c.js";const He=()=>e.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:Array.from({length:15},(r,g)=>e.jsx(n.div,{className:"absolute w-1 h-1 bg-indigo-300 rounded-full opacity-20",initial:{x:Math.random()*(typeof window<"u"?window.innerWidth:1e3),y:Math.random()*(typeof window<"u"?window.innerHeight:1e3)},animate:{x:Math.random()*(typeof window<"u"?window.innerWidth:1e3),y:Math.random()*(typeof window<"u"?window.innerHeight:1e3)},transition:{duration:Math.random()*20+15,repeat:Number.POSITIVE_INFINITY,ease:"linear"}},g))}),Be=({isTimeUp:r,reviewResult:g,reviewLoading:u,reviewError:A,onViewReview:E,onExitQuis:$})=>{if(u)return e.jsx("div",{className:"flex items-center justify-center p-8",children:"Loading hasil kuis..."});if(A)return e.jsx("div",{className:"flex items-center justify-center p-8 text-red-500",children:A});if(!g)return null;const{correctAnswers:k,totalQuestions:h,answers:Z=[]}=g,_=h-k,a=h>0?Math.round(k/h*100):0;return e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsx(n.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.6},className:"text-center max-w-lg w-full",children:e.jsx("div",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-sm rounded-3xl shadow-2xl p-8 border border-white/20 dark:border-slate-700/40",children:e.jsxs(n.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[r?e.jsxs(e.Fragment,{children:[e.jsx(U,{className:"w-20 h-20 text-orange-500 mx-auto mb-6"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white mb-4",children:"Waktu Habis!"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Waktu kuis telah berakhir. Jangan khawatir, kamu sudah berusaha dengan baik!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"w-20 h-20 text-yellow-500 mx-auto mb-6"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white mb-4",children:"Kuis Selesai!"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Selamat! Kamu telah menyelesaikan semua soal dalam kuis ini."})]}),e.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/60 dark:to-purple-900/60 rounded-2xl p-6 mb-8 border border-indigo-100 dark:border-indigo-700",children:e.jsxs("div",{className:"flex flex-col gap-2 items-center justify-center",children:[e.jsxs("div",{className:"flex items-center gap-4 justify-center mb-2",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-300",children:k}),e.jsx("span",{className:"text-xs text-green-700 dark:text-green-300",children:"Benar"})]}),e.jsx("span",{className:"text-2xl font-bold text-gray-400 dark:text-gray-500",children:"/"}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-3xl font-bold text-red-500 dark:text-red-400",children:_}),e.jsx("span",{className:"text-xs text-red-600 dark:text-red-400",children:"Salah"})]})]}),e.jsxs("div",{className:"text-lg font-semibold text-purple-600 dark:text-purple-300 mt-2",children:["Skor Akhir: ",k," dari ",h," soal (",a,"%)"]})]})}),e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/40 border border-red-200 dark:border-red-700 rounded-xl p-4 mb-6 flex flex-col items-center",children:[e.jsx("span",{className:"text-red-700 dark:text-red-200 font-semibold text-base mb-1",children:"Peringatan!"}),e.jsx("span",{className:"text-sm text-red-700 dark:text-red-200 text-center",children:"Jika kamu keluar dari halaman ini tanpa menekan tombol di bawah, data kuis akan dihapus dan EXP tidak akan didapatkan."})]}),e.jsx(n.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(v,{size:"lg",className:"w-full max-w-xs mx-auto bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-semibold py-3 rounded-xl shadow-lg text-[13px] sm:text-base break-words",onClick:E,children:[e.jsx(O,{className:"w-5 h-5 mr-2"}),"Selesai Kuis dan Lihat Review Jawaban",e.jsx(Fe,{className:"w-5 h-5 ml-2"})]})})]})})})})};function wa(){var V,L;const{quizData:r,remainingTime:g,sessionId:u,jenis:A,level:E,currentQuestionIndex:$,userAnswers:k,ended:h}=ye().props,[Z,_]=s.useState(k||[]),[a,ee]=s.useState($),[ae,K]=s.useState(null),[C,re]=s.useState([]),[c,te]=s.useState(g),[T,P]=s.useState(!1),[Q,F]=s.useState(!1),[H,ie]=s.useState(!1),[se,ne]=s.useState(!1),[oe,I]=s.useState(!1),[j,B]=s.useState(!!h),[y,de]=s.useState(!1),[N,le]=s.useState(!1),[ce,me]=s.useState(Date.now()),[xe,ge]=s.useState(null),[ue,z]=s.useState(!1),[pe,X]=s.useState(null),S=$e(),J=s.useRef(null);s.useEffect(()=>{h&&B(!0)},[h]),s.useEffect(()=>{if(c>0&&!H&&!j){const t=setTimeout(()=>te(c-1),1e3);return()=>clearTimeout(t)}else c===0&&!j&&(ne(!0),M())},[c,H,j]),s.useEffect(()=>{me(Date.now())},[a]),s.useEffect(()=>{S.start({scale:[.8,1.1,1],rotate:[0,2,-2,0],transition:{duration:.6,ease:"easeOut"}})},[a,S]);const he=()=>{const t=c/g*100;return t>60?"from-green-400 to-green-600":t>30?"from-orange-400 to-orange-600":"from-red-400 to-red-600"},fe=t=>{const i=Math.floor(t/60),o=t%60;return`${i}:${o.toString().padStart(2,"0")}`},be=async t=>{if(T)return;const i=r[a];let o,d,w;const m=t.charCodeAt(0)-65;if(i.type==="jp_to_id"?(o=i.options[m],d=o===i.answer,w=o):i.type==="id_to_jp"&&(o=i.options[m],d=o&&o.kanji===i.answer,w=o?o.kanji:""),!o)return;K(t),P(!0),F(!0);const f=Math.floor((Date.now()-ce)/1e3);try{await fetch(route("save-quis-kosakata-answer"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({sessionId:u,questionIndex:a,selectedAnswer:t,isCorrect:d,waktuJawab:f,remainingTime:c}),credentials:"same-origin"})}catch{alert("Gagal menyimpan jawaban ke server!")}const x={questionId:i.kosakata_id||i.id,selectedOption:t,isCorrect:d,question:i.question,kosakata:i.kanji||i.arti,correctAnswer:i.answer,selectedText:w,waktuJawab:f};re(l=>[...l,x]),d||S.start({x:[-8,8,-8,8,0],transition:{duration:.4}}),setTimeout(()=>{a<r.length-1?(ee(l=>l+1),K(null),P(!1),F(!1)):M()},1500)},M=async()=>{var t;ie(!0);try{const i=await fetch(route("review-quis-kosakata",{sessionId:u}),{headers:{Accept:"application/json"},credentials:"same-origin"});if(i.ok){const o=await i.json();o&&o.props&&Array.isArray((t=o.props.quizResults)==null?void 0:t.answers)&&_(o.props.quizResults.answers)}}catch{}B(!0)},ke=()=>{R.visit(route("review-quis-kosakata",{sessionId:u}))},je=async()=>{try{await fetch(route("delete-quis-kosakata-session"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({sessionId:u}),credentials:"same-origin"})}catch{}R.visit(route("dashboard"))},we=()=>{I(!1),R.visit(route("dashboard"))},ve=(t,i,o,d,w)=>t.type==="jp_to_id"?e.jsx("div",{className:"grid grid-cols-1 gap-6",children:t.options.map((m,f)=>{const x=String.fromCharCode(65+f),l=o===x,b=m===t.answer,p=w&&l;return e.jsx(n.div,{initial:{opacity:0,y:30,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{delay:.2+f*.1,duration:.4,type:"spring"},whileHover:d?{}:{scale:1.03,y:-4},whileTap:d?{}:{scale:.97},className:"relative group",children:e.jsxs("div",{className:`relative overflow-hidden rounded-2xl cursor-pointer transition-all duration-300 ${d?"cursor-not-allowed":""}`,onClick:()=>i(x),children:[e.jsx("div",{className:`absolute inset-0 transition-all duration-300 ${p?b?"bg-gradient-to-br from-green-400 via-green-500 to-emerald-600 dark:from-green-500 dark:via-green-600 dark:to-emerald-700":"bg-gradient-to-br from-red-400 via-red-500 to-rose-600 dark:from-red-500 dark:via-red-600 dark:to-rose-700":l?"bg-gradient-to-br from-indigo-400 via-indigo-500 to-purple-600 dark:from-indigo-500 dark:via-indigo-600 dark:to-purple-700":"bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-slate-800 dark:via-slate-700 dark:to-slate-600 group-hover:from-indigo-50 group-hover:via-blue-50 group-hover:to-indigo-100 dark:group-hover:from-indigo-900 dark:group-hover:via-blue-900 dark:group-hover:to-indigo-800"}`}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent dark:from-white/5"}),e.jsx("div",{className:`absolute inset-0 rounded-2xl border-2 transition-all duration-300 ${p?b?"border-green-300 dark:border-green-500":"border-red-300 dark:border-red-500":l?"border-indigo-300 dark:border-indigo-500":"border-gray-200 dark:border-slate-700 group-hover:border-indigo-200 dark:group-hover:border-indigo-500"}`}),e.jsxs("div",{className:"relative z-10 p-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(n.div,{className:`w-14 h-14 rounded-xl flex items-center justify-center font-bold text-xl shadow-lg transition-all duration-300 ${p?b?"bg-white dark:bg-slate-800 text-green-600 dark:text-green-400":"bg-white dark:bg-slate-800 text-red-600 dark:text-red-400":l?"bg-white dark:bg-slate-800 text-indigo-600 dark:text-indigo-400":"bg-gradient-to-br from-indigo-500 to-purple-600 dark:from-indigo-600 dark:to-purple-700 text-white group-hover:from-indigo-600 group-hover:to-purple-700 dark:group-hover:from-indigo-700 dark:group-hover:to-purple-800"}`,whileHover:d?{}:{scale:1.1,rotate:5},whileTap:d?{}:{scale:.9},children:x}),e.jsx("span",{className:`text-xl font-bold transition-all duration-300 ${p||l?"text-white":"text-gray-800 dark:text-gray-200 group-hover:text-indigo-700 dark:group-hover:text-indigo-300"}`,children:m})]}),p&&e.jsx(n.div,{initial:{scale:0,rotate:-90},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",stiffness:200},className:"bg-white dark:bg-slate-800 rounded-full p-2",children:b?e.jsx(q,{className:"w-6 h-6 text-green-500 dark:text-green-400"}):e.jsx(D,{className:"w-6 h-6 text-red-500 dark:text-red-400"})})]}),!d&&e.jsx(n.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent dark:via-white/5",initial:{x:"-100%"},whileHover:{x:"100%"},transition:{duration:.6}})]})},x)})}):t.type==="id_to_jp"?e.jsx("div",{className:"grid grid-cols-1 gap-6",children:t.options.map((m,f)=>{const x=String.fromCharCode(65+f),l=o===x,b=m.kanji===t.answer,p=w&&l;return e.jsx(n.div,{initial:{opacity:0,y:30,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{delay:.2+f*.1,duration:.4,type:"spring"},whileHover:d?{}:{scale:1.03,y:-4},whileTap:d?{}:{scale:.97},className:"relative group",children:e.jsxs("div",{className:`relative overflow-hidden rounded-2xl cursor-pointer transition-all duration-300 ${d?"cursor-not-allowed":""}`,onClick:()=>i(x),children:[e.jsx("div",{className:`absolute inset-0 transition-all duration-300 ${p?b?"bg-gradient-to-br from-green-400 via-green-500 to-emerald-600 dark:from-green-500 dark:via-green-600 dark:to-emerald-700":"bg-gradient-to-br from-red-400 via-red-500 to-rose-600 dark:from-red-500 dark:via-red-600 dark:to-rose-700":l?"bg-gradient-to-br from-indigo-400 via-indigo-500 to-purple-600 dark:from-indigo-500 dark:via-indigo-600 dark:to-purple-700":"bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-slate-800 dark:via-slate-700 dark:to-slate-600 group-hover:from-indigo-50 group-hover:via-blue-50 group-hover:to-indigo-100 dark:group-hover:from-indigo-900 dark:group-hover:via-blue-900 dark:group-hover:to-indigo-800"}`}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent dark:from-white/5"}),e.jsx("div",{className:`absolute inset-0 rounded-2xl border-2 transition-all duration-300 ${p?b?"border-green-300 dark:border-green-500":"border-red-300 dark:border-red-500":l?"border-indigo-300 dark:border-indigo-500":"border-gray-200 dark:border-slate-700 group-hover:border-indigo-200 dark:group-hover:border-indigo-500"}`}),e.jsxs("div",{className:"relative z-10 p-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-2xl font-bold",children:m.kanji}),!y&&e.jsx("span",{className:"text-md text-indigo-200",children:m.furigana}),!N&&e.jsx("span",{className:"text-sm text-indigo-300",children:m.romaji})]}),p&&e.jsx(n.div,{initial:{scale:0,rotate:-90},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",stiffness:200},className:"bg-white dark:bg-slate-800 rounded-full p-2",children:b?e.jsx(q,{className:"w-6 h-6 text-green-500 dark:text-green-400"}):e.jsx(D,{className:"w-6 h-6 text-red-500 dark:text-red-400"})})]}),!d&&e.jsx(n.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent dark:via-white/5",initial:{x:"-100%"},whileHover:{x:"100%"},transition:{duration:.6}})]})},x)})}):null;return s.useEffect(()=>{j&&u&&(z(!0),X(null),fetch(route("review-quis-kosakata",{sessionId:u}),{headers:{Accept:"application/json"},credentials:"same-origin"}).then(t=>{if(!t.ok)throw new Error("Gagal mengambil hasil review");return t.json()}).then(t=>{ge(t.quizResults),z(!1)}).catch(t=>{X("Gagal mengambil hasil review dari server."),z(!1)}))},[j,u]),e.jsxs(Oe,{children:[e.jsx(Ne,{children:e.jsx("title",{children:"Quis"})}),!r||!Array.isArray(r)||r.length===0?e.jsx("div",{className:"text-center text-red-500 p-10",children:"Data quiz tidak ditemukan. Silakan mulai ulang dari dashboard."}):j?e.jsx(Be,{isTimeUp:se,reviewResult:xe,reviewLoading:ue,reviewError:pe,onViewReview:ke,onExitQuis:je}):r[a]?e.jsx("div",{className:"text-foreground",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsx("div",{className:"pt-8 mb-8",children:e.jsx(ze,{type:"single",collapsible:!0,className:"w-full",children:e.jsxs(Re,{value:"item-1",children:[e.jsx(qe,{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-lg px-4 py-3 hover:from-indigo-100 hover:to-purple-100 dark:hover:from-indigo-800/30 dark:hover:to-purple-800/30 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-lg",children:e.jsx(Ke,{className:"w-5 h-5 text-white"})}),e.jsx("span",{children:"Panduan Kuis Kosakata"})]})}),e.jsx(De,{className:"text-gray-600 dark:text-gray-400",children:e.jsxs("div",{className:"space-y-4 p-4 bg-gradient-to-br from-white/50 to-indigo-50/50 dark:from-slate-800/50 dark:to-indigo-900/50 rounded-lg border border-indigo-100 dark:border-indigo-800",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full mt-1",children:e.jsx(Pe,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Selamat datang di Kuis Kosakata Jepang!"}),e.jsx("p",{className:"text-sm",children:"Berikut adalah beberapa panduan untuk mengikuti kuis:"})]})]}),e.jsxs("ul",{className:"list-none space-y-3 ml-8",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),e.jsxs("span",{children:["Kuis terdiri dari ",e.jsxs("strong",{children:[r.length," soal"]})," pilihan ganda"]})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsxs("span",{children:["Waktu total pengerjaan adalah ",e.jsxs("strong",{children:[Math.floor(g/60)," menit"]})," untuk ",r.length," soal"]})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-full"}),e.jsx("span",{children:"Setiap soal menampilkan kosakata Jepang dengan kanji, furigana, dan romaji"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{children:"Pilih arti yang tepat dalam bahasa Indonesia"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{children:"EXP hanya diberikan untuk jawaban yang benar"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),e.jsx("span",{children:"Jumlah EXP menurun berdasarkan jumlah percobaan pada soal yang sama"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),e.jsx("span",{children:"Kamu dapat melihat hasil kuis setelah selesai"})]})]})]})})]})})}),e.jsxs("div",{className:"bg-transparent relative overflow-hidden rounded-md",children:[e.jsx(He,{}),e.jsx("div",{className:"bg-white/30 dark:bg-slate-900/80 backdrop-blur-sm",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4 pb-5",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:["Kuis Kosakata – ",E]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Soal ",a+1," dari ",r.length]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap items-center gap-2 w-full md:w-auto justify-center md:justify-end text-center",children:[e.jsxs(v,{variant:"ghost",size:"sm",onClick:()=>de(!y),className:"text-gray-600 dark:text-gray-400 hover:bg-white/50 dark:hover:bg-slate-800/50 flex items-center gap-2",children:[y?e.jsx(O,{className:"w-4 h-4"}):e.jsx(W,{className:"w-4 h-4"}),y?"Tampilkan":"Sembunyikan"," Furigana"]}),e.jsxs(v,{variant:"ghost",size:"sm",onClick:()=>le(!N),className:"text-gray-600 dark:text-gray-400 hover:bg-white/50 dark:hover:bg-slate-800/50 flex items-center gap-2",children:[N?e.jsx(O,{className:"w-4 h-4"}):e.jsx(W,{className:"w-4 h-4"}),N?"Tampilkan":"Sembunyikan"," Romaji"]}),e.jsxs(Se,{open:oe,onOpenChange:I,children:[e.jsx(Ce,{asChild:!0,children:e.jsxs(v,{variant:"outline",size:"sm",className:"text-red-600 dark:text-red-400 border-red-200 dark:border-red-800 hover:bg-red-50 dark:hover:bg-red-900/20 bg-transparent",children:[e.jsx(G,{className:"w-4 h-4 mr-2"}),"Keluar"]})}),e.jsxs(Te,{className:"sm:max-w-md bg-background dark:bg-slate-900 border-border dark:border-slate-800",children:[e.jsxs(Ae,{children:[e.jsxs(Ee,{className:"flex items-center gap-2 text-foreground dark:text-white",children:[e.jsx(G,{className:"w-5 h-5 text-red-500"}),"Keluar dari Kuis?"]}),e.jsx(_e,{className:"text-muted-foreground dark:text-slate-400",children:"Progress kamu akan hilang jika keluar sekarang. Yakin ingin keluar?"})]}),e.jsxs(Ie,{className:"gap-2",children:[e.jsx(v,{variant:"outline",onClick:()=>I(!1),children:"Batal"}),e.jsx(v,{variant:"destructive",onClick:we,children:"Ya, Keluar"})]})]})]})]})]})})}),e.jsx("div",{className:"bg-white/30 dark:bg-slate-900/60",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 py-3 pb-[30px]",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(U,{className:`w-5 h-5 ${c<30?"text-red-500":"text-gray-500 dark:text-gray-400"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Waktu Tersisa"}),e.jsx("span",{className:`text-sm font-bold ${c<30?"text-red-600":"text-gray-800 dark:text-gray-200"}`,children:fe(c)})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-slate-700 rounded-full h-2 overflow-hidden",children:e.jsx(n.div,{className:`h-2 rounded-full bg-gradient-to-r ${he()}`,initial:{width:"100%"},animate:{width:`${c/g*100}%`},transition:{duration:.5}})})]})]})})}),e.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8",children:e.jsx(Y,{mode:"wait",children:e.jsxs(n.div,{initial:{opacity:0,x:50,scale:.95},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:-50,scale:.95},transition:{duration:.3,ease:"easeInOut"},children:[e.jsx("div",{className:"text-center mb-8",children:e.jsx(n.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},transition:{delay:.1,duration:.4},className:"relative",children:e.jsxs("div",{className:"bg-gradient-to-br from-white via-blue-50 to-indigo-50 dark:from-slate-900 dark:via-slate-800 dark:to-indigo-900 backdrop-blur-sm rounded-md shadow-md p-8 mb-6 border border-white/30 dark:border-slate-700/30 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500"}),e.jsx("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-gradient-to-br from-indigo-200 to-purple-200 dark:from-indigo-800 dark:to-purple-800 rounded-full opacity-20 blur-2xl"}),e.jsx("div",{className:"absolute -bottom-20 -left-20 w-40 h-40 bg-gradient-to-br from-blue-200 to-indigo-200 dark:from-blue-800 dark:to-indigo-800 rounded-full opacity-20 blur-2xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(n.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-6",children:e.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-indigo-100 to-purple-100 dark:from-indigo-900 dark:to-purple-900 px-4 py-2 rounded-full border border-indigo-200 dark:border-indigo-800 mb-4",children:[e.jsx("div",{className:"w-2 h-2 bg-indigo-500 dark:bg-indigo-400 rounded-full animate-pulse"}),e.jsxs("span",{className:"text-sm font-medium text-indigo-700 dark:text-indigo-300",children:["Soal ",a+1]})]})}),e.jsx(n.h2,{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-200 mb-6 leading-relaxed",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:r[a].question}),r[a].type==="jp_to_id"?e.jsxs(n.div,{ref:J,animate:S,initial:{scale:.8,opacity:0},whileInView:{scale:1,opacity:1},transition:{delay:.4,type:"spring",stiffness:200},className:"inline-flex flex-col items-center justify-center bg-gradient-to-br from-indigo-500 to-purple-600 dark:from-indigo-600 dark:to-purple-700 rounded-2xl shadow-xl text-white p-4 sm:p-6 relative min-w-0 w-full max-w-xs sm:max-w-md md:max-w-lg",children:[e.jsx("div",{className:"text-5xl font-bold mb-2",children:r[a].kanji}),!y&&e.jsx("div",{className:"text-lg text-indigo-100 dark:text-indigo-200 mb-1",children:r[a].furigana}),!N&&e.jsx("div",{className:"text-sm text-indigo-200 dark:text-indigo-300 font-medium",children:r[a].romaji})]}):r[a].type==="id_to_jp"?e.jsxs(n.div,{ref:J,animate:S,initial:{scale:.8,opacity:0},whileInView:{scale:1,opacity:1},transition:{delay:.4,type:"spring",stiffness:200},className:"inline-flex flex-col items-center justify-center bg-gradient-to-br from-indigo-500 to-purple-600 dark:from-indigo-600 dark:to-purple-700 rounded-2xl shadow-xl text-white p-6 sm:p-8 md:p-10 relative min-w-0 w-full max-w-xs sm:max-w-md md:max-w-lg break-words whitespace-normal text-center",children:[e.jsx("div",{className:"text-2xl md:text-3xl font-bold mb-2 break-words whitespace-normal w-full",children:r[a].arti}),e.jsx("div",{className:"text-sm text-indigo-200 dark:text-indigo-300 font-medium",children:"(Bahasa Indonesia)"})]}):null]})]})})}),ve(r[a],be,ae,T,Q),e.jsx(Y,{children:Q&&e.jsx(n.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},className:"text-center mt-8 mb-20",children:e.jsx("div",{className:`inline-flex items-center gap-3 px-6 py-4 rounded-2xl text-lg font-semibold shadow-lg ${T&&((V=C[C.length-1])!=null&&V.isCorrect)?"bg-gradient-to-r from-green-100 to-green-200 dark:from-green-900/50 dark:to-green-800/50 text-green-800 dark:text-green-300 border border-green-300 dark:border-green-700":"bg-gradient-to-r from-red-100 to-red-200 dark:from-red-900/50 dark:to-red-800/50 text-red-800 dark:text-red-300 border border-red-300 dark:border-red-700"}`,children:T&&((L=C[C.length-1])!=null&&L.isCorrect)?e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"w-6 h-6"}),"Benar! ",r[a].type==="jp_to_id"?r[a].kanji:r[a].arti," berarti ",(r[a].type==="jp_to_id",r[a].answer)]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"w-6 h-6"}),"Salah. ",r[a].type==="jp_to_id"?r[a].kanji:r[a].arti," berarti ",(r[a].type==="jp_to_id",r[a].answer)]})})})})]},a)})}),e.jsx("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-30 w-full px-2",children:e.jsx(n.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},className:"bg-gradient-to-r from-white/90 to-white/80 dark:from-slate-900/90 dark:to-slate-800/80 backdrop-blur-md rounded-2xl shadow-2xl px-2 py-4 border border-white/30 dark:border-slate-700/30 relative overflow-hidden w-full max-w-xs sm:max-w-md md:max-w-2xl mx-auto",style:{overflowX:"auto"},children:e.jsxs("div",{className:"relative z-10 flex items-center justify-center gap-4 overflow-x-auto",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Progress:"}),e.jsx("div",{className:"flex items-center justify-center gap-2 overflow-x-auto",children:Array.from({length:r.length},(t,i)=>e.jsxs(n.div,{className:`relative transition-all duration-300 ${i<a?"w-4 h-4":i===a?"w-5 h-5":"w-3 h-3"}`,whileHover:{scale:1.3},children:[e.jsx("div",{className:`w-full h-full rounded-full transition-all duration-300 ${i<a?"bg-gradient-to-br from-green-400 to-emerald-500 dark:from-green-500 dark:to-emerald-600 shadow-lg shadow-green-200 dark:shadow-green-900/50":i===a?"bg-gradient-to-br from-indigo-500 to-purple-600 dark:from-indigo-600 dark:to-purple-700 shadow-lg shadow-indigo-200 dark:shadow-indigo-900/50":"bg-gradient-to-br from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-600"}`}),i===a&&e.jsx(n.div,{className:"absolute inset-0 rounded-full bg-gradient-to-br from-indigo-400 to-purple-500 dark:from-indigo-500 dark:to-purple-600",animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:Number.POSITIVE_INFINITY,ease:"easeInOut"}})]},i))}),e.jsx("div",{className:"bg-gradient-to-r from-indigo-100 to-purple-100 dark:from-indigo-900/50 dark:to-purple-900/50 px-3 py-1 rounded-full",children:e.jsxs("span",{className:"text-sm font-bold bg-gradient-to-r from-indigo-600 to-purple-600 dark:from-indigo-400 dark:to-purple-400 bg-clip-text text-transparent",children:[a+1,"/",r.length]})})]})})})]})]})}):null]})}export{wa as default};
