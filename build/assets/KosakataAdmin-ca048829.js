import{j as a}from"./app-57e7bed0.js";import{X as $,r as n,S as aa,A as T}from"./vendor-a2d89f66.js";import{C as ea,a as sa,b as ia,c as la}from"./card-94e97b23.js";import{B as r}from"./button-b255e397.js";import{I as h}from"./input-77681c11.js";import{L as i}from"./label-acbb46eb.js";import{T as O}from"./textarea-da492f64.js";import{T as ra,a as na,b as S,c as o,d as ta,e as t}from"./table-f62baeff.js";import{D,a as P,b as F,c as M,d as V,e as oa}from"./dialog-08090aed.js";import{A as da}from"./AdminDashboardLayout-1ace00be.js";import{s as K}from"./index-1df17e58.js";import{P as ca}from"./plus-424d13ac.js";import{S as ma}from"./search-d440357c.js";import{P as q}from"./play-f8de0b3d.js";import{E as ha}from"./eye-8269d095.js";import{S as ja}from"./square-pen-be699300.js";import{T as ua}from"./trash-2-ee5a2ec2.js";import{C as xa}from"./chevron-left-26830aa1.js";import{C as pa}from"./chevron-right-d74b2ff6.js";import{P as ka}from"./pause-2133a29a.js";import"./dropdown-menu-d0862b52.js";import"./avatar-7ff8c940.js";import"./check-95999c31.js";import"./createLucideIcon-256efdfd.js";import"./index-007e7e0b.js";import"./x-49dde499.js";import"./house-ebc95582.js";import"./users-1490e3f6.js";import"./book-open-5cdb0389.js";import"./circle-help-c62c54b0.js";const Wa=()=>{var E,H,I;const{vocabularies:L=[]}=$().props,[c,G]=n.useState(""),[m,j]=n.useState(1),[X,fa]=n.useState(null),[J,ga]=n.useState(!1),Q=n.useRef(null),[u,x]=n.useState({open:!1,vocabulary:null}),[R,p]=n.useState({open:!1,vocabulary:null}),[l,_]=n.useState({open:!1,vocabulary:null}),[k,f]=n.useState({open:!1}),[s,b]=n.useState({kanji:"",furigana:"",romaji:"",arti:"",deskripsi:"",catatan:"",audio:""}),g=5,v=n.useMemo(()=>L.filter(e=>e.kanji.toLowerCase().includes(c.toLowerCase())||e.furigana.toLowerCase().includes(c.toLowerCase())||e.romaji.toLowerCase().includes(c.toLowerCase())||e.arti.toLowerCase().includes(c.toLowerCase())),[L,c]),w=Math.ceil(v.length/g),N=(m-1)*g,z=v.slice(N,N+g),B=e=>{if(!e)return;new Audio(e).play().catch(A=>console.error("Gagal memutar audio:",A))},d=(e,C)=>{b(A=>({...A,[e]:C}))},y=()=>{b({kanji:"",furigana:"",romaji:"",arti:"",deskripsi:"",catatan:"",audio:""})},U=()=>{if(!s.kanji||!s.furigana||!s.romaji||!s.arti){alert("Field wajib tidak boleh kosong!");return}T.post(K("admin.kosakata.store"),s,{onSuccess:()=>{f({open:!1}),y()}})},W=()=>{if(!s.kanji||!s.furigana||!s.romaji||!s.arti){alert("Field wajib tidak boleh kosong!");return}T.put(K("admin.kosakata.update",R.vocabulary.id),s,{onSuccess:()=>{p({open:!1,vocabulary:null}),y()}})},Y=()=>{T.delete(K("admin.kosakata.destroy",u.vocabulary.id),{onSuccess:()=>{x({open:!1,vocabulary:null})}})},Z=e=>{b({kanji:e.kanji,furigana:e.furigana,romaji:e.romaji,arti:e.arti,deskripsi:e.deskripsi,catatan:e.catatan,audio:e.audio}),p({open:!0,vocabulary:e})};return a.jsxs(da,{currentPage:"vocabulary",children:[a.jsx(aa,{title:"Manajemen Kosakata"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Manajemen Kosakata"}),a.jsxs(r,{onClick:()=>f({open:!0}),className:"flex items-center gap-2",children:[a.jsx(ca,{className:"h-4 w-4"}),"Tambah Kosakata"]})]}),a.jsxs(ea,{children:[a.jsx(sa,{children:a.jsx(ia,{children:"Data Kosakata"})}),a.jsxs(la,{children:[a.jsx("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:a.jsxs("div",{className:"relative flex-1",children:[a.jsx(ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx(h,{placeholder:"Cari berdasarkan kanji, furigana, romaji, atau arti...",value:c,onChange:e=>{G(e.target.value),j(1)},className:"pl-10"})]})}),a.jsx("div",{className:"rounded-md border",children:a.jsxs(ra,{children:[a.jsx(na,{children:a.jsxs(S,{children:[a.jsx(o,{children:"Kanji"}),a.jsx(o,{children:"Furigana"}),a.jsx(o,{children:"Romaji"}),a.jsx(o,{children:"Arti"}),a.jsx(o,{children:"Audio"}),a.jsx(o,{children:"Contoh"}),a.jsx(o,{children:"Bentuk"}),a.jsx(o,{className:"text-center",children:"Action"})]})}),a.jsx(ta,{children:z.length>0?z.map(e=>a.jsxs(S,{children:[a.jsx(t,{className:"font-medium text-lg",children:e.kanji}),a.jsx(t,{children:e.furigana}),a.jsx(t,{children:e.romaji}),a.jsx(t,{children:e.arti}),a.jsx(t,{children:a.jsx(r,{variant:"outline",size:"sm",onClick:()=>B(e.audio),className:"h-8 w-8 p-0",disabled:!e.audio,title:e.audio?"Putar Audio":"Audio tidak tersedia",children:a.jsx(q,{className:"h-4 w-4"})})}),a.jsx(t,{children:e.total_contoh_kalimat}),a.jsx(t,{children:e.total_bentuk_kosakata}),a.jsx(t,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(r,{variant:"outline",size:"sm",onClick:()=>_({open:!0,vocabulary:e}),className:"h-8 w-8 p-0",children:a.jsx(ha,{className:"h-4 w-4"})}),a.jsx(r,{variant:"outline",size:"sm",onClick:()=>Z(e),className:"h-8 w-8 p-0",children:a.jsx(ja,{className:"h-4 w-4"})}),a.jsx(r,{variant:"destructive",size:"sm",onClick:()=>x({open:!0,vocabulary:e}),className:"h-8 w-8 p-0",children:a.jsx(ua,{className:"h-4 w-4"})})]})})]},e.id)):a.jsx(S,{children:a.jsx(t,{colSpan:8,className:"text-center py-8 text-gray-500",children:"Tidak ada data kosakata ditemukan"})})})]})}),w>1&&a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsxs("p",{className:"text-sm text-gray-700",children:["Menampilkan ",N+1," - ",Math.min(N+g,v.length)," dari"," ",v.length," data"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(r,{variant:"outline",size:"sm",onClick:()=>j(m-1),disabled:m===1,children:[a.jsx(xa,{className:"h-4 w-4"}),"Previous"]}),Array.from({length:w},(e,C)=>C+1).map(e=>a.jsx(r,{variant:m===e?"default":"outline",size:"sm",onClick:()=>j(e),className:"w-8 h-8 p-0",children:e},e)),a.jsxs(r,{variant:"outline",size:"sm",onClick:()=>j(m+1),disabled:m===w,children:["Next",a.jsx(pa,{className:"h-4 w-4"})]})]})]})]})]}),a.jsx(D,{open:k.open||R.open,onOpenChange:e=>{e||(f({open:!1}),p({open:!1,vocabulary:null}),y())},children:a.jsxs(P,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsx(F,{children:a.jsx(M,{children:k.open?"Tambah Kosakata Baru":"Edit Kosakata"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(i,{htmlFor:"kanji",children:"Kanji"}),a.jsx(h,{id:"kanji",value:s.kanji,onChange:e=>d("kanji",e.target.value),placeholder:"学校"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(i,{htmlFor:"furigana",children:"Furigana"}),a.jsx(h,{id:"furigana",value:s.furigana,onChange:e=>d("furigana",e.target.value),placeholder:"がっこう"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(i,{htmlFor:"romaji",children:"Romaji"}),a.jsx(h,{id:"romaji",value:s.romaji,onChange:e=>d("romaji",e.target.value),placeholder:"gakkou"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(i,{htmlFor:"arti",children:"Arti"}),a.jsx(h,{id:"arti",value:s.arti,onChange:e=>d("arti",e.target.value),placeholder:"sekolah"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(i,{htmlFor:"audio",children:"Audio URL"}),a.jsx(h,{id:"audio",value:s.audio,onChange:e=>d("audio",e.target.value),placeholder:"https://example.com/audio.mp3"})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx(i,{htmlFor:"deskripsi",children:"Deskripsi"}),a.jsx(O,{id:"deskripsi",value:s.deskripsi,onChange:e=>d("deskripsi",e.target.value),placeholder:"Deskripsi kosakata..."})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx(i,{htmlFor:"catatan",children:"Catatan"}),a.jsx(O,{id:"catatan",value:s.catatan,onChange:e=>d("catatan",e.target.value),placeholder:"Catatan tambahan..."})]})]}),a.jsxs(V,{children:[a.jsx(r,{variant:"outline",onClick:()=>{f({open:!1}),p({open:!1,vocabulary:null}),y()},children:"Batal"}),a.jsx(r,{onClick:k.open?U:W,children:k.open?"Tambah":"Simpan"})]})]})}),a.jsx(D,{open:l.open,onOpenChange:e=>_({open:e,vocabulary:null}),children:a.jsxs(P,{className:"max-w-2xl",children:[a.jsx(F,{children:a.jsxs(M,{children:["Detail Kosakata: ",(E=l.vocabulary)==null?void 0:E.kanji]})}),l.vocabulary&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(i,{className:"font-semibold",children:"Kanji:"}),a.jsx("p",{className:"text-2xl",children:l.vocabulary.kanji})]}),a.jsxs("div",{children:[a.jsx(i,{className:"font-semibold",children:"Furigana:"}),a.jsx("p",{className:"text-lg",children:l.vocabulary.furigana})]}),a.jsxs("div",{children:[a.jsx(i,{className:"font-semibold",children:"Romaji:"}),a.jsx("p",{children:l.vocabulary.romaji})]}),a.jsxs("div",{children:[a.jsx(i,{className:"font-semibold",children:"Arti:"}),a.jsx("p",{children:l.vocabulary.arti})]}),a.jsxs("div",{children:[a.jsx(i,{className:"font-semibold",children:"Total Contoh Kalimat:"}),a.jsx("p",{children:l.vocabulary.total_contoh_kalimat})]}),a.jsxs("div",{children:[a.jsx(i,{className:"font-semibold",children:"Total Bentuk Kosakata:"}),a.jsx("p",{children:l.vocabulary.total_bentuk_kosakata})]})]}),a.jsxs("div",{children:[a.jsx(i,{className:"font-semibold",children:"Deskripsi:"}),a.jsx("p",{className:"mt-1 text-gray-700",children:l.vocabulary.deskripsi})]}),a.jsxs("div",{children:[a.jsx(i,{className:"font-semibold",children:"Catatan:"}),a.jsx("p",{className:"mt-1 text-gray-700",children:l.vocabulary.catatan})]}),a.jsxs("div",{children:[a.jsx(i,{className:"font-semibold",children:"Audio:"}),a.jsx("div",{className:"flex items-center gap-2 mt-1",children:a.jsxs(r,{variant:"outline",size:"sm",onClick:()=>B(l.vocabulary.audio,l.vocabulary.id),children:[X===l.vocabulary.id&&J?a.jsx(ka,{className:"h-4 w-4 mr-2"}):a.jsx(q,{className:"h-4 w-4 mr-2"}),"Play Audio"]})})]})]})]})}),a.jsx(D,{open:u.open,onOpenChange:e=>x({open:e,vocabulary:null}),children:a.jsxs(P,{children:[a.jsxs(F,{children:[a.jsx(M,{children:"Konfirmasi Hapus"}),a.jsxs(oa,{children:['Apakah Anda yakin ingin menghapus kosakata "',(H=u.vocabulary)==null?void 0:H.kanji,'" (',(I=u.vocabulary)==null?void 0:I.arti,")? Tindakan ini tidak dapat dibatalkan."]})]}),a.jsxs(V,{children:[a.jsx(r,{variant:"outline",onClick:()=>x({open:!1,vocabulary:null}),children:"Batal"}),a.jsx(r,{variant:"destructive",onClick:Y,children:"Hapus"})]})]})}),a.jsx("audio",{ref:Q})]})]})};export{Wa as default};
