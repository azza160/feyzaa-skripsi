import{j as e}from"./app-b1a96c56.js";import{X as Se,r as i,S as Ce,A as q}from"./vendor-a2d89f66.js";import{B as b}from"./button-f313ffdf.js";import{D as Ae,a as Te,b as Ee,c as _e,d as ze,e as Re,f as qe}from"./dialog-98af8482.js";import{A as De,a as Oe,b as Ie,c as $e}from"./accordion-5f10b1d4.js";import{D as Ke}from"./DashboardLayout-b7552d6d.js";import{u as Pe}from"./use-animation-0be23013.js";import{B as Fe}from"./book-open-23b907e8.js";import{G as Qe}from"./graduation-cap-32a6d00d.js";import{E as D}from"./eye-17681fb9.js";import{E as X}from"./eye-off-6e987c09.js";import{X as L}from"./x-35b410b7.js";import{C as U}from"./clock-ee12ccbb.js";import{m as o}from"./createLucideIcon-780a343d.js";import{A as V}from"./sun-d97d534a.js";import{C as W}from"./circle-check-big-041871e2.js";import{C as G}from"./circle-x-089dbb6c.js";import{T as Be}from"./trophy-3691dc2c.js";import{A as Je}from"./arrow-right-117e3430.js";import"./index-b1ae3ae8.js";import"./index-61fa2664.js";import"./chevron-down-3afa8b9e.js";import"./chevron-right-a2e96ce5.js";import"./check-9c293aa9.js";import"./triangle-alert-4d1d5a73.js";import"./book-open-text-6fa8f7b0.js";import"./sparkles-30d9b8df.js";import"./user-26e4e7a8.js";const Me=()=>e.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:Array.from({length:15},(r,x)=>e.jsx(o.div,{className:"absolute w-1 h-1 bg-indigo-300 rounded-full opacity-20",initial:{x:Math.random()*(typeof window<"u"?window.innerWidth:1e3),y:Math.random()*(typeof window<"u"?window.innerHeight:1e3)},animate:{x:Math.random()*(typeof window<"u"?window.innerWidth:1e3),y:Math.random()*(typeof window<"u"?window.innerHeight:1e3)},transition:{duration:Math.random()*20+15,repeat:Number.POSITIVE_INFINITY,ease:"linear"}},x))}),He=({isTimeUp:r,reviewResult:x,reviewLoading:g,reviewError:C,onViewReview:A,onExitQuis:O})=>{if(g)return e.jsx("div",{className:"flex items-center justify-center p-8",children:"Loading hasil kuis..."});if(C)return e.jsx("div",{className:"flex items-center justify-center p-8 text-red-500",children:C});if(!x)return null;const{correctAnswers:p,totalQuestions:u,answers:Z=[]}=x,T=u-p,s=u>0?Math.round(p/u*100):0;return e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsx(o.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.6},className:"text-center max-w-lg w-full",children:e.jsx("div",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-sm rounded-3xl shadow-2xl p-8 border border-white/20 dark:border-slate-700/40",children:e.jsxs(o.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[r?e.jsxs(e.Fragment,{children:[e.jsx(U,{className:"w-20 h-20 text-orange-500 mx-auto mb-6"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white mb-4",children:"Waktu Habis!"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Waktu kuis telah berakhir. Jangan khawatir, kamu sudah berusaha dengan baik!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Be,{className:"w-20 h-20 text-yellow-500 mx-auto mb-6"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white mb-4",children:"Kuis Selesai!"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Selamat! Kamu telah menyelesaikan semua soal dalam kuis ini."})]}),e.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/60 dark:to-purple-900/60 rounded-2xl p-6 mb-8 border border-indigo-100 dark:border-indigo-700",children:e.jsxs("div",{className:"flex flex-col gap-2 items-center justify-center",children:[e.jsxs("div",{className:"flex items-center gap-4 justify-center mb-2",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-300",children:p}),e.jsx("span",{className:"text-xs text-green-700 dark:text-green-300",children:"Benar"})]}),e.jsx("span",{className:"text-2xl font-bold text-gray-400 dark:text-gray-500",children:"/"}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-3xl font-bold text-red-500 dark:text-red-400",children:T}),e.jsx("span",{className:"text-xs text-red-600 dark:text-red-400",children:"Salah"})]})]}),e.jsxs("div",{className:"text-lg font-semibold text-purple-600 dark:text-purple-300 mt-2",children:["Skor Akhir: ",p," dari ",u," soal (",s,"%)"]})]})}),e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/40 border border-red-200 dark:border-red-700 rounded-xl p-4 mb-6 flex flex-col items-center",children:[e.jsx("span",{className:"text-red-700 dark:text-red-200 font-semibold text-base mb-1",children:"Peringatan!"}),e.jsx("span",{className:"text-sm text-red-700 dark:text-red-200 text-center",children:"Jika kamu keluar dari halaman ini tanpa menekan tombol di bawah, data kuis akan dihapus dan EXP tidak akan didapatkan."})]}),e.jsx(o.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(b,{size:"lg",className:"w-full max-w-xs mx-auto bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-semibold py-3 rounded-xl shadow-lg text-[13px] sm:text-base break-words",onClick:A,children:[e.jsx(D,{className:"w-5 h-5 mr-2"}),"Selesai Kuis dan Lihat Review Jawaban",e.jsx(Je,{className:"w-5 h-5 ml-2"})]})})]})})})})},Y=["[____]"];function Xe(){return Y[Math.floor(Math.random()*Y.length)]}function wa(){var H;const{quizData:r,remainingTime:x,sessionId:g,jenis:C,level:A,currentQuestionIndex:O,userAnswers:p,ended:u}=Se().props,[Z,T]=i.useState(p||[]),[s,ee]=i.useState(O),[ae,I]=i.useState(null),[y,te]=i.useState([]),[m,re]=i.useState(x),[N,$]=i.useState(!1),[K,P]=i.useState(!1),[F,se]=i.useState(!1),[ie,ne]=i.useState(!1),[oe,E]=i.useState(!1),[f,Q]=i.useState(!!u),[k,le]=i.useState(!1),[j,de]=i.useState(!1),[ce,me]=i.useState(Date.now()),[xe,ge]=i.useState(null),[ue,_]=i.useState(!1),[he,B]=i.useState(null),[J,pe]=i.useState([]);i.useEffect(()=>{r&&r.length>0&&J.length!==r.length&&pe(Array.from({length:r.length},()=>Xe()))},[r]);const S=Pe(),fe=i.useRef(null);i.useEffect(()=>{u&&Q(!0)},[u]),i.useEffect(()=>{if(m>0&&!F&&!f){const t=setTimeout(()=>re(m-1),1e3);return()=>clearTimeout(t)}else m===0&&!f&&(ne(!0),M())},[m,F,f]),i.useEffect(()=>{me(Date.now())},[s]),i.useEffect(()=>{S.start({scale:[.8,1.1,1],rotate:[0,2,-2,0],transition:{duration:.6,ease:"easeOut"}})},[s,S]);const be=()=>{const t=m/x*100;return t>60?"from-green-400 to-green-600":t>30?"from-orange-400 to-orange-600":"from-red-400 to-red-600"},ke=t=>{const a=Math.floor(t/60),l=t%60;return`${a}:${l.toString().padStart(2,"0")}`},je=async t=>{if(console.log("handleAnswerSelect called",{optionId:t,currentQuestion:s,quizData:r}),N)return;const a=r[s],l=t.charCodeAt(0)-65;let n=a.options[l],d=!1,c="";if(n&&typeof n.isCorrect=="boolean"?(d=n.isCorrect,c=n.kanji||""):a.type==="jp_to_id"?(d=n===a.answer,c=n):a.type==="id_to_jp"&&(d=n&&n.kanji===a.answer,c=n?n.kanji:""),!n)return;I(t),$(!0),P(!0);const w=Math.floor((Date.now()-ce)/1e3);try{await fetch(route("save-quis-kosakata-answer"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({sessionId:g,questionIndex:s,selectedAnswer:t.toLowerCase(),isCorrect:d,waktuJawab:w,remainingTime:m}),credentials:"same-origin"})}catch{alert("Gagal menyimpan jawaban ke server!")}const v={questionId:a.kosakata_id||a.id,selectedOption:t,isCorrect:d,question:a.question,kosakata:a.kanji||a.arti,correctAnswer:a.answer||a.correct_answer,selectedText:c,waktuJawab:w};te(h=>[...h,v]),d||S.start({x:[-8,8,-8,8,0],transition:{duration:.4}}),setTimeout(()=>{s<r.length-1?(ee(h=>h+1),I(null),$(!1),P(!1)):M()},1500)},M=async()=>{var t;se(!0);try{const a=await fetch(route("review-quis-kosakata",{sessionId:g}),{headers:{Accept:"application/json"},credentials:"same-origin"});if(a.ok){const l=await a.json();l&&l.props&&Array.isArray((t=l.props.quizResults)==null?void 0:t.answers)&&T(l.props.quizResults.answers)}}catch{}Q(!0)},we=()=>{q.visit(route("review-quis-kosakata-intermediate",{sessionId:g}))},ve=async()=>{try{await fetch(route("delete-quis-kosakata-session"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({sessionId:g}),credentials:"same-origin"})}catch{}q.visit(route("dashboard"))},ye=()=>{E(!1),q.visit(route("dashboard"))},Ne=(t,a,l,n,d)=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.options.map((c,w)=>{const v=String.fromCharCode(65+w),h=l===v,z=c.isCorrect,R=d&&h;return e.jsx(o.div,{initial:{opacity:0,y:30,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{delay:.2+w*.1,duration:.4,type:"spring"},whileHover:n?{}:{scale:1.03,y:-4},whileTap:n?{}:{scale:.97},className:"relative group",children:e.jsxs("div",{className:`relative overflow-hidden rounded-2xl cursor-pointer transition-all duration-300 ${n?"cursor-not-allowed":""}`,onClick:()=>a(v),children:[e.jsx("div",{className:`absolute inset-0 transition-all duration-300 ${R?z?"bg-gradient-to-br from-green-400 via-green-500 to-emerald-600 dark:from-green-500 dark:via-green-600 dark:to-emerald-700":"bg-gradient-to-br from-red-400 via-red-500 to-rose-600 dark:from-red-500 dark:via-red-600 dark:to-rose-700":h?"bg-gradient-to-br from-indigo-400 via-indigo-500 to-purple-600 dark:from-indigo-500 dark:via-indigo-600 dark:to-purple-700":"bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-slate-800 dark:via-slate-700 dark:to-slate-600 group-hover:from-indigo-50 group-hover:via-blue-50 group-hover:to-indigo-100 dark:group-hover:from-indigo-900 dark:group-hover:via-blue-900 dark:group-hover:to-indigo-800"}`}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent dark:from-white/5"}),e.jsx("div",{className:`absolute inset-0 rounded-2xl border-2 transition-all duration-300 ${R?z?"border-green-300 dark:border-green-500":"border-red-300 dark:border-red-500":h?"border-indigo-300 dark:border-indigo-500":"border-gray-200 dark:border-slate-700 group-hover:border-indigo-200 dark:group-hover:border-indigo-500"}`}),e.jsxs("div",{className:"relative z-10 p-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-2xl font-bold",children:c.kanji}),!k&&e.jsx("span",{className:"text-md text-indigo-200",children:c.furigana}),!j&&e.jsx("span",{className:"text-sm text-indigo-300",children:c.romaji})]}),R&&e.jsx(o.div,{initial:{scale:0,rotate:-90},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",stiffness:200},className:"bg-white dark:bg-slate-800 rounded-full p-2",children:z?e.jsx(W,{className:"w-6 h-6 text-green-500 dark:text-green-400"}):e.jsx(G,{className:"w-6 h-6 text-red-500 dark:text-red-400"})})]}),!n&&e.jsx(o.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent dark:via-white/5",initial:{x:"-100%"},whileHover:{x:"100%"},transition:{duration:.6}})]})},v)})});return i.useEffect(()=>{f&&g&&(_(!0),B(null),fetch(route("review-quis-kosakata-intermediate",{sessionId:g}),{headers:{Accept:"application/json"},credentials:"same-origin"}).then(t=>{if(!t.ok)throw new Error("Gagal mengambil hasil review");return t.json()}).then(t=>{ge(t.quizResults),_(!1)}).catch(t=>{B("Gagal mengambil hasil review dari server."),_(!1)}))},[f,g]),e.jsxs(Ke,{children:[e.jsx(Ce,{children:e.jsx("title",{children:"Quis"})}),!r||!Array.isArray(r)||r.length===0?e.jsx("div",{className:"text-center text-red-500 p-10",children:"Data quiz tidak ditemukan. Silakan mulai ulang dari dashboard."}):f?e.jsx(He,{isTimeUp:ie,reviewResult:xe,reviewLoading:ue,reviewError:he,onViewReview:we,onExitQuis:ve}):r[s]?e.jsx("div",{className:"text-foreground",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsx("div",{className:"pt-8 mb-8",children:e.jsx(De,{type:"single",collapsible:!0,className:"w-full",children:e.jsxs(Oe,{value:"item-1",children:[e.jsx(Ie,{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-lg px-4 py-3 hover:from-indigo-100 hover:to-purple-100 dark:hover:from-indigo-800/30 dark:hover:to-purple-800/30 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-lg",children:e.jsx(Fe,{className:"w-5 h-5 text-white"})}),e.jsx("span",{children:"Panduan Kuis Kosakata"})]})}),e.jsx($e,{className:"text-gray-600 dark:text-gray-400",children:e.jsxs("div",{className:"space-y-4 p-4 bg-gradient-to-br from-white/50 to-indigo-50/50 dark:from-slate-800/50 dark:to-indigo-900/50 rounded-lg border border-indigo-100 dark:border-indigo-800",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full mt-1",children:e.jsx(Qe,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Selamat datang di Kuis Kosakata Jepang!"}),e.jsx("p",{className:"text-sm",children:"Berikut adalah beberapa panduan untuk mengikuti kuis:"})]})]}),e.jsxs("ul",{className:"list-none space-y-3 ml-8",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),e.jsxs("span",{children:["Kuis terdiri dari ",e.jsxs("strong",{children:[r.length," soal"]})," pilihan ganda"]})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsxs("span",{children:["Waktu total pengerjaan adalah ",e.jsxs("strong",{children:[Math.floor(x/60)," menit"]})," untuk ",r.length," soal"]})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-full"}),e.jsx("span",{children:"Setiap soal menampilkan kosakata Jepang dengan kanji, furigana, dan romaji"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{children:"Pilih arti yang tepat dalam bahasa Indonesia"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{children:"EXP hanya diberikan untuk jawaban yang benar"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),e.jsx("span",{children:"Jumlah EXP menurun berdasarkan jumlah percobaan pada soal yang sama"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),e.jsx("span",{children:"Kamu dapat melihat hasil kuis setelah selesai"})]})]})]})})]})})}),e.jsxs("div",{className:"bg-transparent relative overflow-hidden rounded-md",children:[e.jsx(Me,{}),e.jsx("div",{className:"bg-white/30 dark:bg-slate-900/80 backdrop-blur-sm",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4 pb-5",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:["Kuis Kosakata – ",A]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Soal ",s+1," dari ",r.length]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap items-center gap-2 w-full md:w-auto justify-center md:justify-end text-center",children:[e.jsxs(b,{variant:"ghost",size:"sm",onClick:()=>le(!k),className:"text-gray-600 dark:text-gray-400 hover:bg-white/50 dark:hover:bg-slate-800/50 flex items-center gap-2",children:[k?e.jsx(D,{className:"w-4 h-4"}):e.jsx(X,{className:"w-4 h-4"}),k?"Tampilkan":"Sembunyikan"," Furigana"]}),e.jsxs(b,{variant:"ghost",size:"sm",onClick:()=>de(!j),className:"text-gray-600 dark:text-gray-400 hover:bg-white/50 dark:hover:bg-slate-800/50 flex items-center gap-2",children:[j?e.jsx(D,{className:"w-4 h-4"}):e.jsx(X,{className:"w-4 h-4"}),j?"Tampilkan":"Sembunyikan"," Romaji"]}),e.jsxs(Ae,{open:oe,onOpenChange:E,children:[e.jsx(Te,{asChild:!0,children:e.jsxs(b,{variant:"outline",size:"sm",className:"text-red-600 dark:text-red-400 border-red-200 dark:border-red-800 hover:bg-red-50 dark:hover:bg-red-900/20 bg-transparent",children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"Keluar"]})}),e.jsxs(Ee,{className:"sm:max-w-md bg-background dark:bg-slate-900 border-border dark:border-slate-800",children:[e.jsxs(_e,{children:[e.jsxs(ze,{className:"flex items-center gap-2 text-foreground dark:text-white",children:[e.jsx(L,{className:"w-5 h-5 text-red-500"}),"Keluar dari Kuis?"]}),e.jsx(Re,{className:"text-muted-foreground dark:text-slate-400",children:"Progress kamu akan hilang jika keluar sekarang. Yakin ingin keluar?"})]}),e.jsxs(qe,{className:"gap-2",children:[e.jsx(b,{variant:"outline",onClick:()=>E(!1),children:"Batal"}),e.jsx(b,{variant:"destructive",onClick:ye,children:"Ya, Keluar"})]})]})]})]})]})})}),e.jsx("div",{className:"bg-white/30 dark:bg-slate-900/60",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 py-3 pb-[30px]",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(U,{className:`w-5 h-5 ${m<30?"text-red-500":"text-gray-500 dark:text-gray-400"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Waktu Tersisa"}),e.jsx("span",{className:`text-sm font-bold ${m<30?"text-red-600":"text-gray-800 dark:text-gray-200"}`,children:ke(m)})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-slate-700 rounded-full h-2 overflow-hidden",children:e.jsx(o.div,{className:`h-2 rounded-full bg-gradient-to-r ${be()}`,initial:{width:"100%"},animate:{width:`${m/x*100}%`},transition:{duration:.5}})})]})]})})}),e.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8",children:e.jsx(V,{mode:"wait",children:e.jsxs(o.div,{initial:{opacity:0,x:50,scale:.95},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:-50,scale:.95},transition:{duration:.3,ease:"easeInOut"},children:[e.jsx("div",{className:"text-center mb-8",children:e.jsxs(o.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},transition:{delay:.1,duration:.4},className:"relative",children:[e.jsx("div",{className:"mb-4 text-lg md:text-xl font-semibold text-indigo-700 dark:text-indigo-200 text-center",children:"Lengkapi kalimat berikut dengan jawaban yang paling tepat!"}),e.jsxs("div",{className:"bg-gradient-to-br from-white via-blue-50 to-indigo-50 dark:from-slate-900 dark:via-slate-800 dark:to-indigo-900 backdrop-blur-sm rounded-md shadow-md p-8 mb-6 border border-white/30 dark:border-slate-700/30 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500"}),e.jsx("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-gradient-to-br from-indigo-200 to-purple-200 dark:from-indigo-800 dark:to-purple-800 rounded-full opacity-20 blur-2xl"}),e.jsx("div",{className:"absolute -bottom-20 -left-20 w-40 h-40 bg-gradient-to-br from-blue-200 to-indigo-200 dark:from-blue-800 dark:to-indigo-800 rounded-full opacity-20 blur-2xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(o.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-6",children:e.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-indigo-100 to-purple-100 dark:from-indigo-900 dark:to-purple-900 px-4 py-2 rounded-full border border-indigo-200 dark:border-indigo-800 mb-4",children:[e.jsx("div",{className:"w-2 h-2 bg-indigo-500 dark:bg-indigo-400 rounded-full animate-pulse"}),e.jsxs("span",{className:"text-sm font-medium text-indigo-700 dark:text-indigo-300",children:["Soal ",s+1]})]})}),e.jsx(o.h2,{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-200 mb-6 leading-relaxed",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:r[s].question}),r[s]&&e.jsxs(o.div,{ref:fe,animate:S,initial:{scale:.8,opacity:0},whileInView:{scale:1,opacity:1},transition:{delay:.4,type:"spring",stiffness:200},className:"inline-flex flex-col items-center justify-center bg-gradient-to-br from-indigo-600 to-purple-700 dark:from-indigo-700 dark:to-purple-800 rounded-3xl shadow-2xl text-white p-4 sm:p-6 md:p-8 lg:p-10 relative min-w-0 w-full max-w-xs sm:max-w-md md:max-w-lg lg:max-w-xl mx-auto border-4 border-indigo-200 dark:border-indigo-700 animate-pulse-slow break-words whitespace-normal",children:[e.jsx("div",{className:"text-2xl sm:text-3xl md:text-4xl font-extrabold mb-3 tracking-wide select-none break-words whitespace-normal text-center w-full",children:e.jsx("span",{children:r[s].soal_kanji.replace(/_{2,}|\.\.\.|\?{2,}/g,J[s]||"____")})}),!k&&e.jsx("div",{className:"text-lg sm:text-xl md:text-2xl text-indigo-100 dark:text-indigo-200 mb-2 select-none break-words whitespace-normal text-center w-full",children:r[s].soal_furigana}),!j&&e.jsx("div",{className:"text-sm sm:text-lg md:text-xl text-indigo-200 dark:text-indigo-300 font-medium select-none break-words whitespace-normal text-center w-full",children:r[s].soal_romaji})]})]})]})]})}),Ne(r[s],je,ae,N,K),e.jsx(V,{children:K&&e.jsx(o.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},className:"text-center mt-8 mb-20",children:e.jsx("div",{className:`inline-flex items-center gap-3 px-6 py-4 rounded-2xl text-lg font-semibold shadow-lg ${N&&((H=y[y.length-1])!=null&&H.isCorrect)?"bg-gradient-to-r from-green-100 to-green-200 dark:from-green-900/50 dark:to-green-800/50 text-green-800 dark:text-green-300 border border-green-300 dark:border-green-700":"bg-gradient-to-r from-red-100 to-red-200 dark:from-red-900/50 dark:to-red-800/50 text-red-800 dark:text-red-300 border border-red-300 dark:border-red-700"}`,children:(()=>{var n,d;const t=r[s];let a=null;t.options&&typeof((n=t.options[0])==null?void 0:n.isCorrect)=="boolean"&&(a=t.options.find(c=>c.isCorrect));const l=!!t.type;return N&&((d=y[y.length-1])!=null&&d.isCorrect)?e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"w-6 h-6"}),"Benar! ",l?(t.type==="jp_to_id"?t.kanji:t.arti)+" berarti "+t.answer:a?`Jawaban: ${a.kanji}${a.furigana?"（"+a.furigana+"）":""}${a.romaji?" - "+a.romaji:""}`:""]}):e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-6 h-6"}),"Salah. ",l?(t.type==="jp_to_id"?t.kanji:t.arti)+" berarti "+t.answer:a?`Jawaban: ${a.kanji}${a.furigana?"（"+a.furigana+"）":""}${a.romaji?" - "+a.romaji:""}`:""]})})()})})})]},s)})}),e.jsx("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-30 w-full px-2",children:e.jsx(o.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},className:"bg-gradient-to-r from-white/90 to-white/80 dark:from-slate-900/90 dark:to-slate-800/80 backdrop-blur-md rounded-2xl shadow-2xl px-2 py-4 border border-white/30 dark:border-slate-700/30 relative overflow-hidden w-full max-w-xs sm:max-w-md md:max-w-2xl mx-auto",style:{overflowX:"auto"},children:e.jsxs("div",{className:"relative z-10 flex items-center justify-center gap-4 overflow-x-auto",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Progress:"}),e.jsx("div",{className:"flex items-center justify-center gap-2 overflow-x-auto",children:Array.from({length:r.length},(t,a)=>e.jsxs(o.div,{className:`relative transition-all duration-300 ${a<s?"w-4 h-4":a===s?"w-5 h-5":"w-3 h-3"}`,whileHover:{scale:1.3},children:[e.jsx("div",{className:`w-full h-full rounded-full transition-all duration-300 ${a<s?"bg-gradient-to-br from-green-400 to-emerald-500 dark:from-green-500 dark:to-emerald-600 shadow-lg shadow-green-200 dark:shadow-green-900/50":a===s?"bg-gradient-to-br from-indigo-500 to-purple-600 dark:from-indigo-600 dark:to-purple-700 shadow-lg shadow-indigo-200 dark:shadow-indigo-900/50":"bg-gradient-to-br from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-600"}`}),a===s&&e.jsx(o.div,{className:"absolute inset-0 rounded-full bg-gradient-to-br from-indigo-400 to-purple-500 dark:from-indigo-500 dark:to-purple-600",animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:Number.POSITIVE_INFINITY,ease:"easeInOut"}})]},a))}),e.jsx("div",{className:"bg-gradient-to-r from-indigo-100 to-purple-100 dark:from-indigo-900/50 dark:to-purple-900/50 px-3 py-1 rounded-full",children:e.jsxs("span",{className:"text-sm font-bold bg-gradient-to-r from-indigo-600 to-purple-600 dark:from-indigo-400 dark:to-purple-400 bg-clip-text text-transparent",children:[s+1,"/",r.length]})})]})})})]})]})}):null]})}export{wa as default};
