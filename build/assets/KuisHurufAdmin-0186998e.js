import{j as e}from"./app-57e7bed0.js";import{X as oe,r as i,S as ce,A as p}from"./vendor-a2d89f66.js";import{s as j}from"./index-1df17e58.js";import{C as de,a as he,b as me,c as ue}from"./card-94e97b23.js";import{B as r}from"./button-b255e397.js";import{I as f}from"./input-77681c11.js";import{L as n}from"./label-acbb46eb.js";import{T as xe}from"./textarea-da492f64.js";import{S as v,a as g,b as _,c as b,d}from"./select-084f9a0f.js";import{T as pe,a as je,b as J,c as m,d as fe,e as h}from"./table-f62baeff.js";import{D as O,a as z,b as K,c as q,d as W,e as ve}from"./dialog-08090aed.js";import{A as ge}from"./AdminDashboardLayout-1ace00be.js";import{P as _e}from"./plus-424d13ac.js";import{S as be}from"./search-d440357c.js";import{E as Ne}from"./eye-8269d095.js";import{S as Ce}from"./square-pen-be699300.js";import{T as we}from"./trash-2-ee5a2ec2.js";import{C as ye}from"./chevron-left-26830aa1.js";import{C as Se}from"./chevron-right-d74b2ff6.js";import"./dropdown-menu-d0862b52.js";import"./avatar-7ff8c940.js";import"./check-95999c31.js";import"./createLucideIcon-256efdfd.js";import"./chevron-down-a36c0fa8.js";import"./index-007e7e0b.js";import"./x-49dde499.js";import"./house-ebc95582.js";import"./users-1490e3f6.js";import"./book-open-5cdb0389.js";import"./circle-help-c62c54b0.js";const ls=()=>{var G;const{letterQuizzes:Y=[],availableLetters:E=[]}=oe().props,[V,Le]=i.useState(Y),[c,Z]=i.useState(""),[w,ee]=i.useState("hiragana"),[y,se]=i.useState("beginner"),[u,x]=i.useState(1),[H,N]=i.useState({open:!1,quiz:null}),[A,S]=i.useState({open:!1,quiz:null}),[l,I]=i.useState({open:!1,quiz:null}),[L,k]=i.useState({open:!1}),[a,M]=i.useState({huruf_id:"",jenis:"",level:"",question:"",character:"",correct_answer:"",option_a:"",option_b:"",option_c:"",option_d:""}),T=5,Q=["hiragana","katakana"],$=["beginner","intermediate","advanced"],ae=[{value:"a",label:"A"},{value:"b",label:"B"},{value:"c",label:"C"},{value:"d",label:"D"}],D=i.useMemo(()=>V.filter(s=>{const o=s.question.toLowerCase().includes(c.toLowerCase())||s.character.toLowerCase().includes(c.toLowerCase())||s.option_a.toLowerCase().includes(c.toLowerCase())||s.option_b.toLowerCase().includes(c.toLowerCase())||s.option_c.toLowerCase().includes(c.toLowerCase())||s.option_d.toLowerCase().includes(c.toLowerCase()),C=!w||s.jenis===w,te=!y||s.level===y;return o&&C&&te}),[V,c,w,y]),B=Math.ceil(D.length/T),F=(u-1)*T,R=D.slice(F,F+T),t=(s,o)=>{M(C=>({...C,[s]:o}))},P=()=>{M({huruf_id:"",jenis:"",level:"",question:"",character:"",correct_answer:"",option_a:"",option_b:"",option_c:"",option_d:""})},ne=()=>{if(!a.huruf_id||!a.jenis||!a.level||!a.question||!a.character||!a.correct_answer||!a.option_a||!a.option_b||!a.option_c||!a.option_d){alert("Semua field wajib diisi!");return}p.post(j("admin.soal-huruf.store"),{...a},{onSuccess:()=>{k({open:!1}),P(),p.visit(j("admin.soal-huruf"))}})},le=()=>{if(!a.jenis||!a.level||!a.question||!a.character||!a.correct_answer||!a.option_a||!a.option_b||!a.option_c||!a.option_d){alert("Semua field wajib diisi!");return}p.put(j("admin.soal-huruf.update",A.quiz.id),{...a},{onSuccess:()=>{S({open:!1,quiz:null}),P(),p.visit(j("admin.soal-huruf"))}})},ie=()=>{p.delete(j("admin.soal-huruf.destroy",H.quiz.id),{onSuccess:()=>{N({open:!1,quiz:null}),p.visit(j("admin.soal-huruf"))}}),N({open:!1,quiz:null})},re=s=>{M({huruf_id:s.huruf_id.toString(),jenis:s.jenis,level:s.level,question:s.question,character:s.character,correct_answer:s.correct_answer,option_a:s.option_a,option_b:s.option_b,option_c:s.option_c,option_d:s.option_d}),S({open:!0,quiz:s})},U=s=>{const o=E.find(C=>C.id===s);return o?`${o.huruf} (${o.romaji})`:`ID: ${s}`},X=s=>{switch(s.correct_answer){case"a":return s.option_a;case"b":return s.option_b;case"c":return s.option_c;case"d":return s.option_d;default:return"-"}};return e.jsxs(ge,{currentPage:"letter-quiz",children:[e.jsx(ce,{title:"Kuis Huruf Admin"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Kuis Huruf"}),e.jsxs(r,{onClick:()=>k({open:!0}),className:"flex items-center gap-2",children:[e.jsx(_e,{className:"h-4 w-4"}),"Tambah Kuis"]})]}),e.jsxs(de,{children:[e.jsx(he,{children:e.jsx(me,{children:"Data Kuis Huruf"})}),e.jsxs(ue,{children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(f,{placeholder:"Cari berdasarkan pertanyaan atau opsi jawaban...",value:c,onChange:s=>{Z(s.target.value),x(1)},className:"pl-10"})]}),e.jsxs(v,{value:w,onValueChange:s=>{ee(s),x(1)},children:[e.jsx(g,{className:"w-full lg:w-48",children:e.jsx(_,{placeholder:"Filter Jenis"})}),e.jsxs(b,{children:[e.jsx(d,{value:null,children:"Semua Jenis"}),Q.map(s=>e.jsx(d,{value:s,children:s},s))]})]}),e.jsxs(v,{value:y,onValueChange:s=>{se(s),x(1)},children:[e.jsx(g,{className:"w-full lg:w-48",children:e.jsx(_,{placeholder:"Filter Level"})}),e.jsxs(b,{children:[e.jsx(d,{value:null,children:"Semua Level"}),$.map(s=>e.jsx(d,{value:s,children:s},s))]})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(pe,{children:[e.jsx(je,{children:e.jsxs(J,{children:[e.jsx(m,{children:"Huruf"}),e.jsx(m,{children:"Character"}),e.jsx(m,{children:"Jenis"}),e.jsx(m,{children:"Level"}),e.jsx(m,{children:"Pertanyaan"}),e.jsx(m,{children:"Jawaban Benar"}),e.jsx(m,{className:"text-center",children:"Action"})]})}),e.jsx(fe,{children:R.length>0?R.map(s=>e.jsxs(J,{children:[e.jsx(h,{children:U(s.huruf_id)}),e.jsx(h,{className:"font-medium text-2xl",children:s.character}),e.jsx(h,{children:e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:s.jenis})}),e.jsx(h,{children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.level==="beginner"?"bg-green-100 text-green-800":s.level==="intermediate"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:s.level})}),e.jsx(h,{className:"max-w-xs truncate",title:s.question,children:s.question}),e.jsx(h,{children:e.jsxs("span",{className:"font-medium",children:[s.correct_answer.toUpperCase(),": ",X(s)]})}),e.jsx(h,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{variant:"outline",size:"sm",onClick:()=>I({open:!0,quiz:s}),className:"h-8 w-8 p-0",children:e.jsx(Ne,{className:"h-4 w-4"})}),e.jsx(r,{variant:"outline",size:"sm",onClick:()=>re(s),className:"h-8 w-8 p-0",children:e.jsx(Ce,{className:"h-4 w-4"})}),e.jsx(r,{variant:"destructive",size:"sm",onClick:()=>N({open:!0,quiz:s}),className:"h-8 w-8 p-0",children:e.jsx(we,{className:"h-4 w-4"})})]})})]},s.id)):e.jsx(J,{children:e.jsx(h,{colSpan:7,className:"text-center py-8 text-gray-500",children:"Tidak ada data kuis huruf ditemukan"})})})]})}),B>1&&e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("p",{className:"text-sm text-gray-700",children:["Menampilkan ",F+1," - ",Math.min(F+T,D.length)," dari"," ",D.length," data"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(r,{variant:"outline",size:"sm",onClick:()=>x(u-1),disabled:u===1,children:[e.jsx(ye,{className:"h-4 w-4"}),"Previous"]}),Array.from({length:B},(s,o)=>o+1).map(s=>e.jsx(r,{variant:u===s?"default":"outline",size:"sm",onClick:()=>x(s),className:"w-8 h-8 p-0",children:s},s)),e.jsxs(r,{variant:"outline",size:"sm",onClick:()=>x(u+1),disabled:u===B,children:["Next",e.jsx(Se,{className:"h-4 w-4"})]})]})]})]})]}),e.jsx(O,{open:L.open||A.open,onOpenChange:s=>{s||(k({open:!1}),S({open:!1,quiz:null}),P())},children:e.jsxs(z,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsx(K,{children:e.jsx(q,{children:L.open?"Tambah Kuis Huruf":"Edit Kuis Huruf"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"huruf_id",children:"Huruf"}),e.jsxs(v,{value:a.huruf_id,onValueChange:s=>t("huruf_id",s),disabled:A.open,children:[e.jsx(g,{children:e.jsx(_,{placeholder:"Pilih huruf"})}),e.jsx(b,{children:E.map(s=>e.jsxs(d,{value:s.id.toString(),children:[s.huruf," (",s.romaji,")"]},s.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"character",children:"Character"}),e.jsx(f,{id:"character",value:a.character,onChange:s=>t("character",s.target.value),placeholder:"ã‚"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"jenis",children:"Jenis"}),e.jsxs(v,{value:a.jenis,onValueChange:s=>t("jenis",s),children:[e.jsx(g,{children:e.jsx(_,{placeholder:"Pilih jenis"})}),e.jsx(b,{children:Q.map(s=>e.jsx(d,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"level",children:"Level"}),e.jsxs(v,{value:a.level,onValueChange:s=>t("level",s),children:[e.jsx(g,{children:e.jsx(_,{placeholder:"Pilih level"})}),e.jsx(b,{children:$.map(s=>e.jsx(d,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(n,{htmlFor:"question",children:"Pertanyaan"}),e.jsx(xe,{id:"question",value:a.question,onChange:s=>t("question",s.target.value),placeholder:"Bagaimana cara membaca huruf ini?"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"option_a",children:"Opsi A"}),e.jsx(f,{id:"option_a",value:a.option_a,onChange:s=>t("option_a",s.target.value),placeholder:"a"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"option_b",children:"Opsi B"}),e.jsx(f,{id:"option_b",value:a.option_b,onChange:s=>t("option_b",s.target.value),placeholder:"i"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"option_c",children:"Opsi C"}),e.jsx(f,{id:"option_c",value:a.option_c,onChange:s=>t("option_c",s.target.value),placeholder:"u"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"option_d",children:"Opsi D"}),e.jsx(f,{id:"option_d",value:a.option_d,onChange:s=>t("option_d",s.target.value),placeholder:"e"})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(n,{htmlFor:"correct_answer",children:"Jawaban Benar"}),e.jsxs(v,{value:a.correct_answer,onValueChange:s=>t("correct_answer",s),children:[e.jsx(g,{children:e.jsx(_,{placeholder:"Pilih jawaban benar"})}),e.jsx(b,{children:ae.map(s=>e.jsx(d,{value:s.value,children:s.label},s.value))})]})]})]}),e.jsxs(W,{children:[e.jsx(r,{variant:"outline",onClick:()=>{k({open:!1}),S({open:!1,quiz:null}),P()},children:"Batal"}),e.jsx(r,{onClick:L.open?ne:le,children:L.open?"Tambah":"Simpan"})]})]})}),e.jsx(O,{open:l.open,onOpenChange:s=>I({open:s,quiz:null}),children:e.jsxs(z,{className:"max-w-2xl",children:[e.jsx(K,{children:e.jsx(q,{children:"Detail Kuis Huruf"})}),l.quiz&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{className:"font-semibold",children:"Huruf:"}),e.jsx("p",{children:U(l.quiz.huruf_id)})]}),e.jsxs("div",{children:[e.jsx(n,{className:"font-semibold",children:"Character:"}),e.jsx("p",{className:"text-3xl",children:l.quiz.character})]}),e.jsxs("div",{children:[e.jsx(n,{className:"font-semibold",children:"Jenis:"}),e.jsx("p",{children:l.quiz.jenis})]}),e.jsxs("div",{children:[e.jsx(n,{className:"font-semibold",children:"Level:"}),e.jsx("p",{children:l.quiz.level})]})]}),e.jsxs("div",{children:[e.jsx(n,{className:"font-semibold",children:"Pertanyaan:"}),e.jsx("p",{className:"mt-1",children:l.quiz.question})]}),e.jsxs("div",{children:[e.jsx(n,{className:"font-semibold",children:"Pilihan Jawaban:"}),e.jsxs("div",{className:"mt-2 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"A:"}),e.jsx("span",{children:l.quiz.option_a})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"B:"}),e.jsx("span",{children:l.quiz.option_b})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"C:"}),e.jsx("span",{children:l.quiz.option_c})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"D:"}),e.jsx("span",{children:l.quiz.option_d})]})]})]}),e.jsxs("div",{children:[e.jsx(n,{className:"font-semibold",children:"Jawaban Benar:"}),e.jsxs("p",{className:"mt-1 text-green-600 font-medium",children:[l.quiz.correct_answer.toUpperCase(),": ",X(l.quiz)]})]})]})]})}),e.jsx(O,{open:H.open,onOpenChange:s=>N({open:s,quiz:null}),children:e.jsxs(z,{children:[e.jsxs(K,{children:[e.jsx(q,{children:"Konfirmasi Hapus"}),e.jsxs(ve,{children:['Apakah Anda yakin ingin menghapus kuis huruf "',(G=H.quiz)==null?void 0:G.character,'"? Tindakan ini tidak dapat dibatalkan.']})]}),e.jsxs(W,{children:[e.jsx(r,{variant:"outline",onClick:()=>N({open:!1,quiz:null}),children:"Batal"}),e.jsx(r,{variant:"destructive",onClick:ie,children:"Hapus"})]})]})})]})]})};export{ls as default};
